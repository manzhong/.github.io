<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-bounce.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":false,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="一 简介 1.1 概述 Echarts 是一个由百度开源的数据可视化，凭借着良好的交互性，精巧的图表设计，得到了众多开发者的认可。而 Python 是一门富有表达力的语言，很适合用于数据处理。当数据分析遇上数据可视化时，pyecharts 诞生了。  1.2 特性 1 2 3 4 5 6 7   简洁的 API 设计，使用如丝滑般流畅，支持链式调用 囊括了 30+ 种常见图表，应有尽有 支持主流">
<meta property="og:type" content="article">
<meta property="og:title" content="Pyecharts">
<meta property="og:url" content="http://example.com/2021/12/19/Pyecharts/index.html">
<meta property="og:site_name" content="春雨里洗过的太阳">
<meta property="og:description" content="一 简介 1.1 概述 Echarts 是一个由百度开源的数据可视化，凭借着良好的交互性，精巧的图表设计，得到了众多开发者的认可。而 Python 是一门富有表达力的语言，很适合用于数据处理。当数据分析遇上数据可视化时，pyecharts 诞生了。  1.2 特性 1 2 3 4 5 6 7   简洁的 API 设计，使用如丝滑般流畅，支持链式调用 囊括了 30+ 种常见图表，应有尽有 支持主流">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-12-19T10:04:19.000Z">
<meta property="article:modified_time" content="2023-03-17T15:42:10.674Z">
<meta property="article:author" content="HF">
<meta property="article:tag" content="数据可视化">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2021/12/19/Pyecharts/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<link rel="stylesheet" type="text/css" href="/css/injector.css" />
  <title>Pyecharts | 春雨里洗过的太阳</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">春雨里洗过的太阳</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">世间所有的相遇，都是久别重逢</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/19/Pyecharts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hexo.jpg">
      <meta itemprop="name" content="HF">
      <meta itemprop="description" content="第二名就是头号输家">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="春雨里洗过的太阳">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Pyecharts
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-19 18:04:19" itemprop="dateCreated datePublished" datetime="2021-12-19T18:04:19+08:00">2021-12-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-03-17 23:42:10" itemprop="dateModified" datetime="2023-03-17T23:42:10+08:00">2023-03-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">数据可视化</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>53k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>48 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="一-简介"><a href="#一-简介" class="headerlink" title="一 简介"></a>一 简介</h2><h3 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h3><p><a target="_blank" rel="noopener" href="https://github.com/ecomfe/echarts">Echarts</a> 是一个由百度开源的数据可视化，凭借着良好的交互性，精巧的图表设计，得到了众多开发者的认可。而 Python 是一门富有表达力的语言，很适合用于数据处理。当数据分析遇上数据可视化时，<a target="_blank" rel="noopener" href="https://github.com/pyecharts/pyecharts">pyecharts</a> 诞生了。</p>
<h3 id="1-2-特性"><a href="#1-2-特性" class="headerlink" title="1.2 特性"></a>1.2 特性</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">简洁的 API 设计，使用如丝滑般流畅，支持链式调用</span><br><span class="line">囊括了 30+ 种常见图表，应有尽有</span><br><span class="line">支持主流 Notebook 环境，Jupyter Notebook 和 JupyterLab</span><br><span class="line">可轻松集成至 Flask，Django 等主流 Web 框架</span><br><span class="line">高度灵活的配置项，可轻松搭配出精美的图表</span><br><span class="line">详细的文档和示例，帮助开发者更快的上手项目</span><br><span class="line">多达 400+ 地图文件以及原生的百度地图，为地理数据可视化提供强有力的支持</span><br></pre></td></tr></table></figure>

<h3 id="1-3-版本"><a href="#1-3-版本" class="headerlink" title="1.3 版本"></a>1.3 版本</h3><p>pyecharts 分为 v0.5.X 和 v1 两个大版本，v0.5.X 和 v1 间不兼容，v1 是一个全新的版本</p>
<p>v0.5.X :支持 Python2.7，3.4+</p>
<p>v1: 仅支持 Python3.6+</p>
<p><strong>本文版本:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.9.1</span><br></pre></td></tr></table></figure>

<h3 id="1-4-安装"><a href="#1-4-安装" class="headerlink" title="1.4  安装"></a>1.4  安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1: 查看pyecharts的安装版本</span><br><span class="line">	import pyecharts</span><br><span class="line">	print(pyecharts.__version__)</span><br><span class="line">2:安装</span><br><span class="line">	pip(3) install pyecharts</span><br></pre></td></tr></table></figure>

<p><strong>官方文档(不做版本管理，您所看到的当前文档为最新版文档，若文档与您使用的版本出现不一致情况，请及时更新 pyecharts)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;pyecharts.org&#x2F;#&#x2F;zh-cn&#x2F;quickstart</span><br><span class="line">https:&#x2F;&#x2F;gallery.pyecharts.org&#x2F;#&#x2F;Table&#x2F;table_base</span><br></pre></td></tr></table></figure>

<h3 id="1-5-图表展示形式"><a href="#1-5-图表展示形式" class="headerlink" title="1.5 图表展示形式"></a>1.5 图表展示形式</h3><p><strong>1: 保存为图片</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> ThemeType</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar_ch</span>() -&gt; Bar:</span></span><br><span class="line">    c = (</span><br><span class="line">        Bar(&#123;<span class="string">&quot;theme&quot;</span>: ThemeType.MACARONS&#125;)</span><br><span class="line">        .add_xaxis(Faker.choose())</span><br><span class="line">        .add_yaxis(<span class="string">&quot;商家A&quot;</span>, Faker.values())</span><br><span class="line">        .add_yaxis(<span class="string">&quot;商家B&quot;</span>, Faker.values())</span><br><span class="line">        .set_global_opts(</span><br><span class="line">            title_opts=&#123;<span class="string">&quot;text&quot;</span>: <span class="string">&quot;Bar-通过 dict 进行配置&quot;</span>, <span class="string">&quot;subtext&quot;</span>: <span class="string">&quot;我也是通过 dict 进行配置的&quot;</span>&#125;</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"> <span class="comment">#保存为图片</span></span><br><span class="line">make_snapshot(snapshot, bar_ch().render(), <span class="string">&quot;bar.png&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>保存为图片需要安装:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install snapshot-selenium</span><br></pre></td></tr></table></figure>

<p>使用selenium 需要配置browser driver(mac版)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1: 下载chromedriver  需要和chrome浏览器的版本对应</span><br><span class="line">	http:&#x2F;&#x2F;chromedriver.storage.googleapis.com&#x2F;index.html</span><br><span class="line">2: 下载后解压将文件移动到 &#x2F;usr&#x2F;local&#x2F;bin 目录下</span><br><span class="line">3: 配置环境变量</span><br></pre></td></tr></table></figure>

<p><strong>2: 生成html 文件</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> ThemeType</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar_ch</span>() -&gt; Bar:</span></span><br><span class="line">    c = (</span><br><span class="line">        Bar(&#123;<span class="string">&quot;theme&quot;</span>: ThemeType.MACARONS&#125;)</span><br><span class="line">        .add_xaxis(Faker.choose())</span><br><span class="line">        .add_yaxis(<span class="string">&quot;商家A&quot;</span>, Faker.values())</span><br><span class="line">        .add_yaxis(<span class="string">&quot;商家B&quot;</span>, Faker.values())</span><br><span class="line">        .set_global_opts(</span><br><span class="line">            title_opts=&#123;<span class="string">&quot;text&quot;</span>: <span class="string">&quot;Bar-通过 dict 进行配置&quot;</span>, <span class="string">&quot;subtext&quot;</span>: <span class="string">&quot;我也是通过 dict 进行配置的&quot;</span>&#125;</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"> <span class="comment">#html</span></span><br><span class="line"> bar_ch().render(<span class="string">&quot;path/bar_test.html&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>3: jupyter notebook, Zeppelin等直接展示图(动态的)</strong></p>
<p>当配置为ZEPPELIN 但在jupyternotebook上运行时,会把html的源文件打印出来(方便查看修改html)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认JUPYTER_NOTEBOOK一般不需配置(配置是必须在引用pyecharts.charts前) </span></span><br><span class="line"><span class="comment">#可选值:JUPYTER_LAB,NTERACT,ZEPPELIN(写的时候 %python)</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> CurrentConfig,NotebookType</span><br><span class="line">CurrentConfig.NOTEBOOK_TYPE = NotebookType.JUPYTER_NOTEBOOK  </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> ThemeType</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar_ch</span>() -&gt; Bar:</span></span><br><span class="line">    c = (</span><br><span class="line">        Bar(&#123;<span class="string">&quot;theme&quot;</span>: ThemeType.MACARONS&#125;)</span><br><span class="line">        .add_xaxis(Faker.choose())</span><br><span class="line">        .add_yaxis(<span class="string">&quot;商家A&quot;</span>, Faker.values())</span><br><span class="line">        .add_yaxis(<span class="string">&quot;商家B&quot;</span>, Faker.values())</span><br><span class="line">        .set_global_opts(</span><br><span class="line">            title_opts=&#123;<span class="string">&quot;text&quot;</span>: <span class="string">&quot;Bar-通过 dict 进行配置&quot;</span>, <span class="string">&quot;subtext&quot;</span>: <span class="string">&quot;我也是通过 dict 进行配置的&quot;</span>&#125;</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"><span class="comment">#直接展示</span></span><br><span class="line">bar_ch().render_notebook()</span><br></pre></td></tr></table></figure>

<h2 id="二-配置"><a href="#二-配置" class="headerlink" title="二 配置"></a>二 配置</h2><h4 id="2-1-全局配置"><a href="#2-1-全局配置" class="headerlink" title="2.1 全局配置"></a>2.1 全局配置</h4><p>​    <strong>全局配置项可通过 <code>set_global_opts</code> 方法设置</strong></p>
<p>​    如图所示:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> CurrentConfig,NotebookType</span><br><span class="line">CurrentConfig.NOTEBOOK_TYPE = NotebookType.JUPYTER_NOTEBOOK</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pyecharts.options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> ThemeType</span><br><span class="line"><span class="keyword">from</span> pyecharts.commons.utils <span class="keyword">import</span> JsCode</span><br><span class="line"></span><br><span class="line"><span class="comment"># 常用配置说明 具体各项的参数未写全,只写了常用的,需要更加细致的图表请查阅官网,在各个配置项下补全即可</span></span><br><span class="line"><span class="comment">#1.初始化配置项 配置在图表名称中 在set_global_opts 配置会报错</span></span><br><span class="line">echart=Bar(init_opts=opts.InitOpts(</span><br><span class="line">            		<span class="comment">#背景色 当下载图片为全黑时可以修改该值</span></span><br><span class="line">                bg_color=<span class="string">&#x27;white&#x27;</span> </span><br><span class="line">            		<span class="comment"># 图表主题 可选项: 默认为WHITE ,其他:LIGHT,DARK,CHALK,ESSOS,INFOGRAPHIC,MACARONS</span></span><br><span class="line">            							<span class="comment"># PURPLE_PASSION,ROMA,ROMANTIC,SHINE,VINTAGE,WALDEN,WESTEROS</span></span><br><span class="line">            							<span class="comment"># WONDERLAND, 也可自定义主题具体参考官网</span></span><br><span class="line">                , theme=ThemeType.LIGHT</span><br><span class="line">  							<span class="comment"># 动画配置项</span></span><br><span class="line">            		animation_opts=opts.AnimationOpts(</span><br><span class="line">                  animation=<span class="literal">True</span>,</span><br><span class="line">                ),</span><br><span class="line">           ))</span><br><span class="line">echart.set_global_opts(</span><br><span class="line">          <span class="comment">#2.工具栏</span></span><br><span class="line">          toolbox_opts=opts.ToolboxOpts(</span><br><span class="line">                    is_show=<span class="literal">True</span></span><br><span class="line">                    <span class="comment"># 工具栏 icon 的布局朝向 可选：&#x27;horizontal&#x27;, &#x27;vertical&#x27;</span></span><br><span class="line">                    ,orient=<span class="string">&quot;horizontal&quot;</span></span><br><span class="line">                    <span class="comment">#位置</span></span><br><span class="line"><span class="comment">#                     ,pos_left=&#x27;center&#x27;</span></span><br><span class="line"><span class="comment">#                     ,pos_right=&#x27;center&#x27;</span></span><br><span class="line"><span class="comment">#                     ,pos_top=&#x27;top&#x27;</span></span><br><span class="line"><span class="comment">#                     ,pos_bottom=&#x27;top&#x27;</span></span><br><span class="line">                    <span class="comment">#各工具配置项</span></span><br><span class="line">                    ,feature=opts.ToolBoxFeatureOpts(</span><br><span class="line">                        <span class="comment">#保存为图片的格式</span></span><br><span class="line">                        save_as_image=opts.ToolBoxFeatureSaveAsImageOpts(type_=<span class="string">&quot;jpeg&quot;</span>,is_show=<span class="literal">True</span>)</span><br><span class="line">                         <span class="comment">#数据视图</span></span><br><span class="line">                        ,data_view = opts.ToolBoxFeatureDataViewOpts(is_show=<span class="literal">True</span>)</span><br><span class="line">                        <span class="comment"># 数据区域缩放。（目前只支持直角坐标系的缩放）</span></span><br><span class="line">                        ,data_zoom=opts.ToolBoxFeatureDataZoomOpts(is_show=<span class="literal">False</span>)</span><br><span class="line">                        <span class="comment">#动态类型切换。</span></span><br><span class="line">                        ,magic_type=opts.ToolBoxFeatureMagicTypeOpts(is_show=<span class="literal">True</span>)</span><br><span class="line">                        <span class="comment">#选框组件的控制按钮。</span></span><br><span class="line">                        ,brush=opts.ToolBoxFeatureBrushOpts(type_=<span class="string">&quot;clear&quot;</span>)</span><br><span class="line">                        <span class="comment">#还原</span></span><br><span class="line">                        ,restore = opts.ToolBoxFeatureRestoreOpts()</span><br><span class="line">                    )</span><br><span class="line">          ),</span><br><span class="line">          <span class="comment">#3.提示框 点击图标时</span></span><br><span class="line">          tooltip_opts=opts.TooltipOpts(</span><br><span class="line">                    is_show=<span class="literal">True</span></span><br><span class="line">                    <span class="comment"># 触发类型 </span></span><br><span class="line">                    <span class="comment"># &#x27;item&#x27;: 数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。</span></span><br><span class="line">                    <span class="comment"># &#x27;axis&#x27;: 坐标轴触发，主要在柱状图，折线图等会使用类目轴的图表中使用。</span></span><br><span class="line">                    <span class="comment"># &#x27;none&#x27;: 什么都不触发</span></span><br><span class="line">                    ,trigger=<span class="string">&quot;axis&quot;</span></span><br><span class="line">                    <span class="comment">#提示框触发的条件</span></span><br><span class="line">                    <span class="comment"># &#x27;mousemove&#x27;: 鼠标移动时触发。</span></span><br><span class="line">                    <span class="comment"># &#x27;click&#x27;: 鼠标点击时触发。</span></span><br><span class="line">                    <span class="comment"># &#x27;mousemove|click&#x27;: 同时鼠标移动和点击时触发。</span></span><br><span class="line">                    <span class="comment"># &#x27;none&#x27;: 不在 &#x27;mousemove&#x27; 或 &#x27;click&#x27; 时触发，</span></span><br><span class="line">                    ,trigger_on=<span class="string">&quot;mousemove&quot;</span></span><br><span class="line">                    <span class="comment">#指示器类型</span></span><br><span class="line">                    <span class="comment"># &#x27;line&#x27;：直线指示器</span></span><br><span class="line">                    <span class="comment"># &#x27;shadow&#x27;：阴影指示器</span></span><br><span class="line">                    <span class="comment"># &#x27;none&#x27;：无指示器</span></span><br><span class="line">                    <span class="comment"># &#x27;cross&#x27;：十字准星指示器。其实是种简写，表示启用两个正交的轴的 axisPointer。</span></span><br><span class="line">                    ,axis_pointer_type=<span class="string">&quot;cross&quot;</span></span><br><span class="line">                    <span class="comment">#提示框浮层的边框颜色。</span></span><br><span class="line">                    ,border_color=<span class="string">&quot;#FF0000&quot;</span></span><br><span class="line">                    <span class="comment">#提示框浮层的边框宽</span></span><br><span class="line">                    ,border_width=<span class="number">5</span></span><br><span class="line">                    <span class="comment"># 标签内容格式器</span></span><br><span class="line">                    <span class="comment"># &#123;a&#125;：系列名。</span></span><br><span class="line">                    <span class="comment"># &#123;b&#125;：数据名。</span></span><br><span class="line">                    <span class="comment"># &#123;c&#125;：数据值。</span></span><br><span class="line">                    ,formatter=<span class="string">&quot;&#123;a&#125;:&#123;b&#125;:&#123;c&#125;&quot;</span> + <span class="string">&#x27;%&#x27;</span></span><br><span class="line">          ),</span><br><span class="line">          <span class="comment"># 4.AxisOpts：坐标轴配置项 x和y</span></span><br><span class="line">           xaxis_opts=opts.AxisOpts(type_=<span class="string">&quot;category&quot;</span>,is_show=<span class="literal">True</span>,name=<span class="string">&quot;类别&quot;</span>),</span><br><span class="line">           yaxis_opts=opts.AxisOpts(</span><br><span class="line">                    name=<span class="string">&quot;y轴名称&quot;</span>,</span><br><span class="line">                    is_show=<span class="literal">True</span>,</span><br><span class="line">                    <span class="comment"># 坐标轴类型 &#x27;value&#x27;: 数值轴，适用于连续数据。</span></span><br><span class="line">                    <span class="comment">#&#x27;category&#x27;: 类目轴，适用于离散的类目数据，为该类型时必须通过 data 设置类目数据</span></span><br><span class="line">                    <span class="comment">#&#x27;time&#x27;: 时间轴，适用于连续的时序数据，与数值轴相比时间轴带有时间的格式化，在刻度计算上也有所不同，</span></span><br><span class="line">                    <span class="comment">#&#x27;log&#x27; 对数轴。适用于对数数据。</span></span><br><span class="line">                    type_=<span class="string">&quot;value&quot;</span>,</span><br><span class="line">                    <span class="comment"># min_=0,</span></span><br><span class="line">                    <span class="comment"># max_=10000,</span></span><br><span class="line">                    <span class="comment"># interval=500,</span></span><br><span class="line">                    <span class="comment"># axislabel_opts=opts.LabelOpts(formatter=&quot;&#123;value&#125;&quot;),</span></span><br><span class="line">               </span><br><span class="line">                    <span class="comment">#坐标轴刻度 默认显示 可不配置</span></span><br><span class="line">                    axistick_opts=opts.AxisTickOpts(</span><br><span class="line">                        is_show=<span class="literal">True</span></span><br><span class="line">                        ,is_align_with_label=<span class="literal">True</span></span><br><span class="line">                    ),</span><br><span class="line">                    <span class="comment"># 分割线配置项 搭配x的分割线可以组成网格</span></span><br><span class="line">                    splitline_opts=opts.SplitLineOpts(</span><br><span class="line">                        is_show=<span class="literal">True</span></span><br><span class="line">                        </span><br><span class="line">                    ),</span><br><span class="line">                    <span class="comment"># 坐标轴刻度线配置项</span></span><br><span class="line">                    axisline_opts=opts.AxisLineOpts(</span><br><span class="line">                        is_show=<span class="literal">True</span></span><br><span class="line">                        <span class="comment">#显示箭头 arrow </span></span><br><span class="line">                        ,symbol=<span class="literal">None</span></span><br><span class="line">                    ),</span><br><span class="line">                    <span class="comment">#添加y轴刻度图例说明 如 10% 20% ....</span></span><br><span class="line">                    axislabel_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;value&#125;&quot;</span>+<span class="string">f&quot;&quot;</span>),</span><br><span class="line">                    <span class="comment"># 坐标轴名字反转 一般用于x轴 填入反转度数</span></span><br><span class="line">                    name_rotate=<span class="number">45</span>,</span><br><span class="line">                       </span><br><span class="line">            ),</span><br><span class="line">            <span class="comment"># 5.图例配置项</span></span><br><span class="line">           legend_opts=opts.LegendOpts(</span><br><span class="line">                  is_show=<span class="literal">True</span>,</span><br><span class="line">                   <span class="comment">#图例位置 left_right:&#x27;left&#x27;, &#x27;center&#x27;, &#x27;right&#x27;</span></span><br><span class="line">                   <span class="comment">#图例位置 top_bottom:&#x27;top&#x27;, &#x27;middle&#x27;, &#x27;bottom&#x27; 而且也可天20 像素值,或&#x27;20%&#x27;容器高宽的百分比</span></span><br><span class="line">                  pos_left=<span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                  pos_right=<span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                  pos_top=<span class="string">&#x27;middle&#x27;</span>,</span><br><span class="line">                  pos_bottom=<span class="string">&#x27;middle&#x27;</span>,</span><br><span class="line">                   <span class="comment">#图例布局朝向 vertical:竖向 horizontal:横向</span></span><br><span class="line">                  orient=<span class="string">&#x27;vertical&#x27;</span>,</span><br><span class="line">                   <span class="comment">#图例icon &#x27;circle&#x27;, &#x27;rect&#x27;, &#x27;roundRect&#x27;, &#x27;triangle&#x27;, &#x27;diamond&#x27;, &#x27;pin&#x27;, &#x27;arrow&#x27;, &#x27;none&#x27;</span></span><br><span class="line">                  legend_icon=<span class="string">&quot;roundRect&quot;</span>,</span><br><span class="line">            ),</span><br><span class="line">            <span class="comment"># 6.标题配置项</span></span><br><span class="line">            title_opts=opts.TitleOpts(</span><br><span class="line">                   title=<span class="string">&quot;测试-主标题&quot;</span></span><br><span class="line">                   ,subtitle=<span class="string">&quot;测试-副标题&quot;</span></span><br><span class="line">                   ,pos_left=<span class="string">&#x27;center&#x27;</span></span><br><span class="line">                   ,pos_right=<span class="string">&#x27;center&#x27;</span></span><br><span class="line">                   ,pos_top=<span class="string">&#x27;top&#x27;</span></span><br><span class="line">                   ,pos_bottom=<span class="string">&#x27;top&#x27;</span></span><br><span class="line">                   ,title_textstyle_opts=opts.TextStyleOpts(</span><br><span class="line">                       color=<span class="string">&quot;Green&quot;</span></span><br><span class="line">                       <span class="comment">#文字字体的风格 &#x27;normal&#x27;，&#x27;italic&#x27;，&#x27;oblique&#x27;</span></span><br><span class="line">                       ,font_style=<span class="string">&quot;italic&quot;</span></span><br><span class="line">                       <span class="comment">#主标题文字字体的粗细 &#x27;normal&#x27;，&#x27;bold&#x27;，&#x27;bolder&#x27;，&#x27;lighter&#x27;</span></span><br><span class="line">                       ,font_weight=<span class="string">&#x27;bold&#x27;</span></span><br><span class="line">                       <span class="comment">#文字的字体大小</span></span><br><span class="line">                       ,font_size=<span class="number">30</span></span><br><span class="line">                   )</span><br><span class="line">                   ,subtitle_textstyle_opts=opts.TextStyleOpts(</span><br><span class="line">                       color=<span class="string">&quot;Red&quot;</span></span><br><span class="line">                       ,font_style=<span class="string">&quot;oblique&quot;</span></span><br><span class="line">                       ,font_weight=<span class="string">&#x27;lighter&#x27;</span></span><br><span class="line">                   )</span><br><span class="line">            ),</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># 7. 区域缩放配置 对于如饼图等 无缩放的不可用</span></span><br><span class="line">            datazoom_opts=opts.DataZoomOpts(</span><br><span class="line">                is_show=<span class="literal">True</span></span><br><span class="line">                <span class="comment"># 组件类别 可选 有筛选框:&quot;slider&quot;, 无筛选框依赖鼠标滑动:&quot;inside&quot;</span></span><br><span class="line">                ,type_=<span class="string">&quot;slider&quot;</span></span><br><span class="line">                <span class="comment"># 水平或竖直 水平:&#x27;horizontal&#x27;, 竖直:&#x27;vertical&#x27; 水平控制x轴 竖直控制y轴</span></span><br><span class="line">                ,orient=<span class="string">&quot;horizontal&quot;</span></span><br><span class="line">           </span><br><span class="line">            ),</span><br><span class="line">            <span class="comment"># 8 视觉映射配置项 一般用于散点图 根据数据大小显示大小不同的点</span></span><br><span class="line">            visualmap_opts=opts.VisualMapOpts(</span><br><span class="line">                is_show=<span class="literal">True</span></span><br><span class="line">                <span class="comment"># 映射过渡类型，可选，&quot;color&quot;, &quot;size&quot;</span></span><br><span class="line">                ,type_=<span class="string">&quot;color&quot;</span></span><br><span class="line">                <span class="comment"># 水平:horizontal 竖直:vertical</span></span><br><span class="line">                ,orient=<span class="string">&quot;vertical&quot;</span></span><br><span class="line">                <span class="comment">#位置</span></span><br><span class="line">                ,pos_left=<span class="string">&#x27;left&#x27;</span></span><br><span class="line">                ,pos_right=<span class="string">&#x27;left&#x27;</span></span><br><span class="line">                ,pos_top=<span class="string">&#x27;middle&#x27;</span></span><br><span class="line">                ,pos_bottom=<span class="string">&#x27;middle&#x27;</span></span><br><span class="line">              	<span class="comment"># 视觉范围</span></span><br><span class="line">                ,range_color=[<span class="string">&quot;#D7DA8B&quot;</span>, <span class="string">&quot;#E15457&quot;</span>]</span><br><span class="line">            ),</span><br><span class="line">        </span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h4 id="2-2-系列配置项"><a href="#2-2-系列配置项" class="headerlink" title="2.2 系列配置项"></a>2.2 系列配置项</h4><p>可以通过<strong>set_series_opts</strong> 配置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 系列配置项 具体需要参考各个图的参数 直角坐标系图和饼图等有些是不太一致的 有时会导致图片运行不出来,此时根据图表删掉一些配置即可</span></span><br><span class="line">echart.set_series_opts(</span><br><span class="line">		<span class="comment">#标签配置项 折线图 柱状图等 每个点的值</span></span><br><span class="line">        label_opts=opts.LabelOpts(</span><br><span class="line">            is_show=<span class="literal">True</span>,</span><br><span class="line">            position=<span class="string">&quot;inside&quot;</span>,</span><br><span class="line">            color=<span class="string">&quot;black&quot;</span>,</span><br><span class="line">            <span class="comment"># 配置柱状堆积图的百分比 需要加载js文件 </span></span><br><span class="line">          <span class="comment">#数据格式y值2 list2 = [&#123;&quot;value&quot;: 12, &quot;percent&quot;: 12 / (12 + 3)&#125;,...]</span></span><br><span class="line"><span class="comment">#             formatter=JsCode(</span></span><br><span class="line"><span class="comment">#                 &quot;function(x)&#123;return Number(x.data.value).toFixed() +&#x27;&amp;&#x27; + Number(x.data.percent * 100).toFixed() + &#x27;%&#x27;;&#125;&quot;</span></span><br><span class="line"><span class="comment">#             ),</span></span><br><span class="line">            <span class="comment"># 常规 </span></span><br><span class="line">            <span class="comment"># 折线（区域）图、柱状（条形）图、K线图 : &#123;a&#125;（系列名称），&#123;b&#125;（类目值），&#123;c&#125;（数值）, &#123;d&#125;（无）</span></span><br><span class="line">            <span class="comment"># 散点图（气泡）图 : &#123;a&#125;（系列名称），&#123;b&#125;（数据名称），&#123;c&#125;（数值数组）, &#123;d&#125;（无）</span></span><br><span class="line">            <span class="comment"># 地图 : &#123;a&#125;（系列名称），&#123;b&#125;（区域名称），&#123;c&#125;（合并数值）, &#123;d&#125;（无）</span></span><br><span class="line">            <span class="comment"># 饼图、仪表盘、漏斗图: &#123;a&#125;（系列名称），&#123;b&#125;（数据项名称），&#123;c&#125;（数值）, &#123;d&#125;（百分比）</span></span><br><span class="line">            <span class="comment"># 示例：formatter: &#x27;&#123;b&#125;: &#123;@score&#125;&#x27;</span></span><br><span class="line">            formatter=<span class="string">&quot;&#123;b&#125;:&#123;c&#125;&quot;</span> + <span class="string">&#x27;%&#x27;</span></span><br><span class="line">        ),</span><br><span class="line">        <span class="comment">#标记点配置项</span></span><br><span class="line"><span class="comment">#         markpoint_opts=opts.MarkPointOpts(</span></span><br><span class="line"><span class="comment">#      			# &#x27;min&#x27; 最大值。</span></span><br><span class="line"><span class="comment">#   			  # &#x27;max&#x27; 最大值。</span></span><br><span class="line"><span class="comment">#   			  # &#x27;average&#x27; 平均值。 可以填写多个</span></span><br><span class="line"><span class="comment">#             data=[opts.MarkPointItem(type_=&quot;max&quot;,name=&quot;最大值&quot;)]</span></span><br><span class="line"><span class="comment">#         ),</span></span><br><span class="line">        <span class="comment"># 标记线配置项</span></span><br><span class="line"><span class="comment">#         markline_opts=opts.MarkLineOpts(</span></span><br><span class="line"><span class="comment">#             data=[</span></span><br><span class="line"><span class="comment">#                 opts.MarkLineItem(type_=&quot;min&quot;, name=&quot;最小值&quot;),</span></span><br><span class="line"><span class="comment">#                 opts.MarkLineItem(type_=&quot;max&quot;, name=&quot;最大值&quot;),</span></span><br><span class="line"><span class="comment">#                 opts.MarkLineItem(type_=&quot;average&quot;, name=&quot;平均值&quot;),</span></span><br><span class="line"><span class="comment">#             ]</span></span><br><span class="line"><span class="comment">#         ),</span></span><br><span class="line">        <span class="comment">#涟漪特效 一般用户散点图</span></span><br><span class="line">        effect_opts=opts.EffectOpts(</span><br><span class="line">            is_show=<span class="literal">False</span></span><br><span class="line">        ),</span><br><span class="line">  			<span class="comment"># 区域填充样式配置项 如折线图 变面积图</span></span><br><span class="line">  			areastyle_opts=opts.AreaStyleOpts(</span><br><span class="line">          <span class="comment">#图形透明度。支持从 0 到 1 的数字，为 0 时不绘制该图形。</span></span><br><span class="line">          opacity=<span class="number">0.5</span></span><br><span class="line">        ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>这一块要配合具体的图表解释说明,系列配置项可以先参考官网:<a target="_blank" rel="noopener" href="https://pyecharts.org/#/zh-cn/series_options">https://pyecharts.org/#/zh-cn/series_options</a></p>
<h3 id="三-图表"><a href="#三-图表" class="headerlink" title="三 图表"></a>三 图表</h3><p><strong>概述</strong>:目前只编写了自己工作用到的图形,上面的全局和系列配置项基本可以共用,但某些特殊图形如3d图等需要特定函数修饰,该系列特殊项请参考官网,或后期本文更新会补全</p>
<h4 id="3-1-直角坐标系图表"><a href="#3-1-直角坐标系图表" class="headerlink" title="3.1 直角坐标系图表"></a>3.1 直角坐标系图表</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Bar(柱状图)</span><br><span class="line">,Boxplot(箱型图)</span><br><span class="line">,EffectScatter(涟漪特效散点图)</span><br><span class="line">,HeatMap(热力图)</span><br><span class="line">,Kline/Candlestick(K线图)</span><br><span class="line">,Line(折线/面积图)</span><br><span class="line">,PictorialBar(象形柱状图)</span><br><span class="line">,Scatter(散点图) </span><br><span class="line">注释: 多图层叠:Overlap</span><br></pre></td></tr></table></figure>

<h5 id="3-1-1-公有方法"><a href="#3-1-1-公有方法" class="headerlink" title="3.1.1 公有方法"></a>3.1.1 公有方法</h5><p>直角坐标系图表继承自 <code>RectChart</code> 都拥有以下方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 扩展x/y轴</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">extend_axis</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment"># 扩展 X 坐标轴数据项</span></span></span></span><br><span class="line"><span class="function"><span class="params">    xaxis_data: Sequence = None,</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment"># 扩展 X 坐标轴配置项，参考 `global_options.AxisOpts`</span></span></span></span><br><span class="line"><span class="function"><span class="params">    xaxis: Union[opts.AxisOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment"># 新增 Y 坐标轴配置项，参考 `global_options.AxisOpts` 具体参考上面全局配置的y轴配置</span></span></span></span><br><span class="line"><span class="function"><span class="params">    yaxis: Union[opts.AxisOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="function"><span class="params"></span>)</span></span><br><span class="line"><span class="function"># 添加<span class="title">x</span>轴</span></span><br><span class="line"><span class="function"><span class="title">def</span> <span class="title">add_xaxis</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment"># X 轴数据项</span></span></span></span><br><span class="line"><span class="function"><span class="params">    xaxis_data: Sequence</span></span></span><br><span class="line"><span class="function"><span class="params"></span>)</span></span><br><span class="line"><span class="function">#反转<span class="title">x</span>/<span class="title">y</span>轴 如竖柱状图 转 横柱状图</span></span><br><span class="line"><span class="function"><span class="title">def</span> <span class="title">reversal_axis</span>():</span></span><br><span class="line"><span class="comment"># 层叠多图</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">overlap</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment"># chart 为直角坐标系类型图表</span></span></span></span><br><span class="line"><span class="function"><span class="params">    chart: Base</span></span></span><br><span class="line"><span class="function"><span class="params"></span>)</span></span><br><span class="line"><span class="function"># 添加<span class="title">dataset</span>组件</span></span><br><span class="line"><span class="function"><span class="title">def</span> <span class="title">add_dataset</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment"># 原始数据。一般来说，原始数据表达的是二维表。</span></span></span></span><br><span class="line"><span class="function"><span class="params">    source: types.Union[types.Sequence, types.JSFunc] = None,</span></span></span><br><span class="line"><span class="function"><span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment"># 使用 dimensions 定义 series.data 或者 dataset.source 的每个维度的信息。</span></span></span></span><br><span class="line"><span class="function"><span class="params">    dimensions: types.Optional[types.Sequence] = None,</span></span></span><br><span class="line"><span class="function"><span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment"># dataset.source 第一行/列是否是 维度名 信息。可选值：</span></span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment"># null/undefine（对应 Python 的 None 值）：默认，自动探测。</span></span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment"># true：第一行/列是维度名信息。</span></span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment"># false：第一行/列直接开始是数据。</span></span></span></span><br><span class="line"><span class="function"><span class="params">    source_header: types.Optional[bool] = None,</span></span></span><br><span class="line"><span class="function"><span class="params"></span>)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加数据集的操作 dataset  支持直接添加数据集 进行绘图</span></span><br><span class="line"><span class="comment"># 1 柱状图</span></span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line">c = (</span><br><span class="line">    Bar()</span><br><span class="line">    .add_dataset(</span><br><span class="line">        source=[</span><br><span class="line">            [<span class="string">&quot;score&quot;</span>, <span class="string">&quot;amount&quot;</span>, <span class="string">&quot;product&quot;</span>],</span><br><span class="line">            [<span class="number">89.3</span>, <span class="number">58212</span>, <span class="string">&quot;Matcha Latte&quot;</span>],</span><br><span class="line">            [<span class="number">57.1</span>, <span class="number">78254</span>, <span class="string">&quot;Milk Tea&quot;</span>],</span><br><span class="line">            [<span class="number">74.4</span>, <span class="number">41032</span>, <span class="string">&quot;Cheese Cocoa&quot;</span>],</span><br><span class="line">            [<span class="number">50.1</span>, <span class="number">12755</span>, <span class="string">&quot;Cheese Brownie&quot;</span>],</span><br><span class="line">            [<span class="number">89.7</span>, <span class="number">20145</span>, <span class="string">&quot;Matcha Cocoa&quot;</span>],</span><br><span class="line">            [<span class="number">68.1</span>, <span class="number">79146</span>, <span class="string">&quot;Tea&quot;</span>],</span><br><span class="line">            [<span class="number">19.6</span>, <span class="number">91852</span>, <span class="string">&quot;Orange Juice&quot;</span>],</span><br><span class="line">            [<span class="number">10.6</span>, <span class="number">101852</span>, <span class="string">&quot;Lemon Juice&quot;</span>],</span><br><span class="line">            [<span class="number">32.7</span>, <span class="number">20112</span>, <span class="string">&quot;Walnut Brownie&quot;</span>],</span><br><span class="line">        ]</span><br><span class="line">    )</span><br><span class="line">    .add_yaxis(</span><br><span class="line">        series_name=<span class="string">&quot;&quot;</span>,</span><br><span class="line">        y_axis=[],</span><br><span class="line">        encode=&#123;<span class="string">&quot;x&quot;</span>:<span class="string">&quot;amount&quot;</span>,<span class="string">&quot;y&quot;</span>:<span class="string">&quot;product&quot;</span>&#125;,</span><br><span class="line">        label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>),</span><br><span class="line">    )</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&quot;Dataset normal bar example&quot;</span>),</span><br><span class="line">        <span class="comment">#xaxis_opts=opts.AxisOpts(name=&quot;amount&quot;),</span></span><br><span class="line">        yaxis_opts=opts.AxisOpts(type_=<span class="string">&quot;category&quot;</span>),</span><br><span class="line">        visualmap_opts=opts.VisualMapOpts(</span><br><span class="line">            orient=<span class="string">&quot;horizontal&quot;</span>,</span><br><span class="line">            pos_left=<span class="string">&quot;center&quot;</span>,</span><br><span class="line">            min_=<span class="number">10</span>,</span><br><span class="line">            max_=<span class="number">100</span>,</span><br><span class="line">            range_text=[<span class="string">&quot;High Score&quot;</span>, <span class="string">&quot;Low Score&quot;</span>],</span><br><span class="line">            dimension=<span class="number">0</span>,</span><br><span class="line">            range_color=[<span class="string">&quot;#D7DA8B&quot;</span>, <span class="string">&quot;#E15457&quot;</span>],</span><br><span class="line">        ),</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br><span class="line"></span><br><span class="line"><span class="comment">## 2  柱图2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"></span><br><span class="line">c = (</span><br><span class="line">    Bar()</span><br><span class="line">    .add_dataset(</span><br><span class="line">        source=[</span><br><span class="line">            [<span class="string">&quot;product&quot;</span>, <span class="string">&quot;2015&quot;</span>, <span class="string">&quot;2016&quot;</span>, <span class="string">&quot;2017&quot;</span>],</span><br><span class="line">            [<span class="string">&quot;Matcha Latte&quot;</span>, <span class="number">43.3</span>, <span class="number">85.8</span>, <span class="number">93.7</span>],</span><br><span class="line">            [<span class="string">&quot;Milk Tea&quot;</span>, <span class="number">83.1</span>, <span class="number">73.4</span>, <span class="number">55.1</span>],</span><br><span class="line">            [<span class="string">&quot;Cheese Cocoa&quot;</span>, <span class="number">86.4</span>, <span class="number">65.2</span>, <span class="number">82.5</span>],</span><br><span class="line">            [<span class="string">&quot;Walnut Brownie&quot;</span>, <span class="number">72.4</span>, <span class="number">53.9</span>, <span class="number">39.1</span>],</span><br><span class="line">        ]</span><br><span class="line">    )</span><br><span class="line">    .add_yaxis(series_name=<span class="string">&quot;2015&quot;</span>, y_axis=[])</span><br><span class="line">    .add_yaxis(series_name=<span class="string">&quot;2016&quot;</span>, y_axis=[])</span><br><span class="line">    .add_yaxis(series_name=<span class="string">&quot;2017&quot;</span>, y_axis=[])</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&quot;Dataset simple bar example&quot;</span>),</span><br><span class="line">        xaxis_opts=opts.AxisOpts(type_=<span class="string">&quot;category&quot;</span>),</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br><span class="line"></span><br><span class="line"><span class="comment">## 3  饼图</span></span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Pie</span><br><span class="line"></span><br><span class="line">c = (</span><br><span class="line">    Pie()</span><br><span class="line">    .add_dataset(</span><br><span class="line">        source=[</span><br><span class="line">            [<span class="string">&quot;product&quot;</span>, <span class="string">&quot;2012&quot;</span>, <span class="string">&quot;2013&quot;</span>, <span class="string">&quot;2014&quot;</span>, <span class="string">&quot;2015&quot;</span>, <span class="string">&quot;2016&quot;</span>, <span class="string">&quot;2017&quot;</span>],</span><br><span class="line">            [<span class="string">&quot;Matcha Latte&quot;</span>, <span class="number">41.1</span>, <span class="number">30.4</span>, <span class="number">65.1</span>, <span class="number">53.3</span>, <span class="number">83.8</span>, <span class="number">98.7</span>],</span><br><span class="line">            [<span class="string">&quot;Milk Tea&quot;</span>, <span class="number">86.5</span>, <span class="number">92.1</span>, <span class="number">85.7</span>, <span class="number">83.1</span>, <span class="number">73.4</span>, <span class="number">55.1</span>],</span><br><span class="line">            [<span class="string">&quot;Cheese Cocoa&quot;</span>, <span class="number">24.1</span>, <span class="number">67.2</span>, <span class="number">79.5</span>, <span class="number">86.4</span>, <span class="number">65.2</span>, <span class="number">82.5</span>],</span><br><span class="line">            [<span class="string">&quot;Walnut Brownie&quot;</span>, <span class="number">55.2</span>, <span class="number">67.1</span>, <span class="number">69.2</span>, <span class="number">72.4</span>, <span class="number">53.9</span>, <span class="number">39.1</span>],</span><br><span class="line">        ]</span><br><span class="line">    )</span><br><span class="line">    .add(</span><br><span class="line">        series_name=<span class="string">&quot;Matcha Latte&quot;</span>,</span><br><span class="line">        data_pair=[],</span><br><span class="line">        radius=<span class="number">60</span>,</span><br><span class="line">        center=[<span class="string">&quot;25%&quot;</span>, <span class="string">&quot;30%&quot;</span>],</span><br><span class="line">        encode=&#123;<span class="string">&quot;itemName&quot;</span>: <span class="string">&quot;product&quot;</span>, <span class="string">&quot;value&quot;</span>: <span class="string">&quot;2012&quot;</span>&#125;,</span><br><span class="line">    )</span><br><span class="line">    .add(</span><br><span class="line">        series_name=<span class="string">&quot;Milk Tea&quot;</span>,</span><br><span class="line">        data_pair=[],</span><br><span class="line">        radius=<span class="number">60</span>,</span><br><span class="line">        center=[<span class="string">&quot;75%&quot;</span>, <span class="string">&quot;30%&quot;</span>],</span><br><span class="line">        encode=&#123;<span class="string">&quot;itemName&quot;</span>: <span class="string">&quot;product&quot;</span>, <span class="string">&quot;value&quot;</span>: <span class="string">&quot;2013&quot;</span>&#125;,</span><br><span class="line">    )</span><br><span class="line">    .add(</span><br><span class="line">        series_name=<span class="string">&quot;Cheese Cocoa&quot;</span>,</span><br><span class="line">        data_pair=[],</span><br><span class="line">        radius=<span class="number">60</span>,</span><br><span class="line">        center=[<span class="string">&quot;25%&quot;</span>, <span class="string">&quot;75%&quot;</span>],</span><br><span class="line">        encode=&#123;<span class="string">&quot;itemName&quot;</span>: <span class="string">&quot;product&quot;</span>, <span class="string">&quot;value&quot;</span>: <span class="string">&quot;2014&quot;</span>&#125;,</span><br><span class="line">    )</span><br><span class="line">    .add(</span><br><span class="line">        series_name=<span class="string">&quot;Walnut Brownie&quot;</span>,</span><br><span class="line">        data_pair=[],</span><br><span class="line">        radius=<span class="number">60</span>,</span><br><span class="line">        center=[<span class="string">&quot;75%&quot;</span>, <span class="string">&quot;75%&quot;</span>],</span><br><span class="line">        encode=&#123;<span class="string">&quot;itemName&quot;</span>: <span class="string">&quot;product&quot;</span>, <span class="string">&quot;value&quot;</span>: <span class="string">&quot;2015&quot;</span>&#125;,</span><br><span class="line">    )</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&quot;Dataset simple pie example&quot;</span>),</span><br><span class="line">        legend_opts=opts.LegendOpts(pos_left=<span class="string">&quot;30%&quot;</span>, pos_top=<span class="string">&quot;2%&quot;</span>),</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>



<h5 id="3-1-2-柱状图"><a href="#3-1-2-柱状图" class="headerlink" title="3.1.2 柱状图"></a>3.1.2 柱状图</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 初始化配置项，参考 `global_options.InitOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    init_opts: opts.InitOpts = opts.InitOpts(<span class="params"></span>)</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"># 函数</span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">add_yaxis</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列名称，用于 tooltip 的显示，legend 的图例筛选。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    series_name: str,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列数据</span></span></span></span><br><span class="line"><span class="class"><span class="params">    y_axis: Sequence[Numeric, opts.BarItem, dict],</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否选中图例</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_selected: bool = True,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 使用的 x 轴的 index，在单个图表实例中存在多个 x 轴的时候有用。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    xaxis_index: Optional[Numeric] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 使用的 y 轴的 index，在单个图表实例中存在多个 y 轴的时候有用。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    yaxis_index: Optional[Numeric] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否启用图例 hover 时的联动高亮</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_legend_hover_link: bool = True,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列 label 颜色</span></span></span></span><br><span class="line"><span class="class"><span class="params">    color: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否显示柱条的背景色。通过 backgroundStyle 配置背景样式。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_show_background: bool = False,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 每一个柱条的背景样式。需要将 showBackground 设置为 true 时才有效。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    background_style: types.Union[types.BarBackground, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 数据堆叠，同个类目轴上系列配置相同的　stack　值可以堆叠放置。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    stack: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 柱条的宽度，不设时自适应。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 可以是绝对值例如 40 或者百分数例如 &#x27;60%&#x27;。百分数基于自动计算出的每一类目的宽度。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 在同一坐标系上，此属性会被多个 &#x27;bar&#x27; 系列共享。此属性应设置于此坐标系中最后一个 &#x27;bar&#x27; 系列上才会生效，并且是对此坐标系中所有 &#x27;bar&#x27; 系列生效。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    bar_width: types.Union[types.Numeric, str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 柱条的最大宽度。比 barWidth 优先级高。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    bar_max_width: types.Union[types.Numeric, str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 柱条的最小宽度。在直角坐标系中，默认值是 1。否则默认值是 null。比 barWidth 优先级高。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    bar_min_width: types.Union[types.Numeric, str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 柱条最小高度，可用于防止某数据项的值过小而影响交互。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    bar_min_height: types.Numeric = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 同一系列的柱间距离，默认为类目间距的 20%，可设固定值</span></span></span></span><br><span class="line"><span class="class"><span class="params">    category_gap: Union[Numeric, str] = <span class="string">&quot;20%&quot;</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 不同系列的柱间距离，为百分比（如 &#x27;30%&#x27;，表示柱子宽度的 30%）。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 如果想要两个系列的柱子重叠，可以设置 gap 为 &#x27;-100%&#x27;。这在用柱子做背景的时候有用。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    gap: Optional[str] = <span class="string">&quot;30%&quot;</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否开启大数据量优化，在数据图形特别多而出现卡顿时候可以开启。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 开启后配合 largeThreshold 在数据量大于指定阈值的时候对绘制进行优化。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 缺点：优化后不能自定义设置单个数据项的样式。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_large: bool = False,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 开启绘制优化的阈值。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    large_threshold: types.Numeric = <span class="number">400</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 使用 dimensions 定义 series.data 或者 dataset.source 的每个维度的信息。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 注意：如果使用了 dataset，那么可以在 dataset.source 的第一行/列中给出 dimension 名称。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 于是就不用在这里指定 dimension。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 但是，如果在这里指定了 dimensions，那么 ECharts 不再会自动从 dataset.source 的第一行/列中获取维度信息。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    dimensions: types.Union[types.Sequence, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 当使用 dataset 时，seriesLayoutBy 指定了 dataset 中用行还是列对应到系列上，也就是说，系列“排布”到 dataset 的行还是列上。可取值：</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># &#x27;column&#x27;：默认，dataset 的列对应于系列，从而 dataset 中每一列是一个维度（dimension）。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># &#x27;row&#x27;：dataset 的行对应于系列，从而 dataset 中每一行是一个维度（dimension）。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    series_layout_by: str = <span class="string">&quot;column&quot;</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 如果 series.data 没有指定，并且 dataset 存在，那么就会使用 dataset。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># datasetIndex 指定本系列使用那个 dataset。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    dataset_index: types.Numeric = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否裁剪超出坐标系部分的图形。柱状图：裁掉所有超出坐标系的部分，但是依然保留柱子的宽度</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_clip: bool = True,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 柱状图所有图形的 zlevel 值。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    z_level: types.Numeric = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 柱状图组件的所有图形的z值。控制图形的前后顺序。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># z值小的图形会被z值大的图形覆盖。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># z相比zlevel优先级更低，而且不会创建新的 Canvas。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    z: types.Numeric = <span class="number">2</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标签配置项，参考 `series_options.LabelOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    label_opts: Union[opts.LabelOpts, dict] = opts.LabelOpts(<span class="params"></span>),</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标记点配置项，参考 `series_options.MarkPointOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    markpoint_opts: Union[opts.MarkPointOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标记线配置项，参考 `series_options.MarkLineOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    markline_opts: Union[opts.MarkLineOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 提示框组件配置项，参考 `series_options.TooltipOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    tooltip_opts: Union[opts.TooltipOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 图元样式配置项，参考 `series_options.ItemStyleOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    itemstyle_opts: Union[opts.ItemStyleOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 可以定义 data 的哪个维度被编码成什么。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    encode: types.Union[types.JSFunc, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br></pre></td></tr></table></figure>

<p><strong>例子</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> CurrentConfig,NotebookType</span><br><span class="line">CurrentConfig.NOTEBOOK_TYPE = NotebookType.JUPYTER_NOTEBOOK</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pyecharts.options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> ThemeType</span><br><span class="line"><span class="keyword">from</span> pyecharts.commons.utils <span class="keyword">import</span> JsCode</span><br><span class="line"></span><br><span class="line">list2 = [</span><br><span class="line">    &#123;<span class="string">&quot;value&quot;</span>: <span class="number">12</span>, <span class="string">&quot;percent&quot;</span>: <span class="number">12</span> / (<span class="number">12</span> + <span class="number">3</span>)&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;value&quot;</span>: <span class="number">23</span>, <span class="string">&quot;percent&quot;</span>: <span class="number">23</span> / (<span class="number">23</span> + <span class="number">21</span>)&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;value&quot;</span>: <span class="number">33</span>, <span class="string">&quot;percent&quot;</span>: <span class="number">33</span> / (<span class="number">33</span> + <span class="number">5</span>)&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;value&quot;</span>: <span class="number">3</span>, <span class="string">&quot;percent&quot;</span>: <span class="number">3</span> / (<span class="number">3</span> + <span class="number">52</span>)&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;value&quot;</span>: <span class="number">33</span>, <span class="string">&quot;percent&quot;</span>: <span class="number">33</span> / (<span class="number">33</span> + <span class="number">43</span>)&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">list3 = [</span><br><span class="line">    &#123;<span class="string">&quot;value&quot;</span>: <span class="number">3</span>, <span class="string">&quot;percent&quot;</span>: <span class="number">3</span> / (<span class="number">12</span> + <span class="number">3</span>)&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;value&quot;</span>: <span class="number">21</span>, <span class="string">&quot;percent&quot;</span>: <span class="number">21</span> / (<span class="number">23</span> + <span class="number">21</span>)&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;value&quot;</span>: <span class="number">5</span>, <span class="string">&quot;percent&quot;</span>: <span class="number">5</span> / (<span class="number">33</span> + <span class="number">5</span>)&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;value&quot;</span>: <span class="number">52</span>, <span class="string">&quot;percent&quot;</span>: <span class="number">52</span> / (<span class="number">3</span> + <span class="number">52</span>)&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;value&quot;</span>: <span class="number">43</span>, <span class="string">&quot;percent&quot;</span>: <span class="number">43</span> / (<span class="number">33</span> + <span class="number">43</span>)&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">bar = (</span><br><span class="line">   Bar(init_opts=opts.InitOpts(</span><br><span class="line">                bg_color=<span class="string">&#x27;white&#x27;</span></span><br><span class="line">                ,theme=ThemeType.LIGHT</span><br><span class="line">                ,animation_opts=opts.AnimationOpts(</span><br><span class="line">                  animation=<span class="literal">True</span>,</span><br><span class="line">                ),</span><br><span class="line">        ))</span><br><span class="line">   .add_xaxis(Faker.choose())</span><br><span class="line">   .add_yaxis(<span class="string">&quot;商家A&quot;</span>, Faker.values())</span><br><span class="line">   .add_yaxis(<span class="string">&quot;商家B&quot;</span>, Faker.values())</span><br><span class="line"><span class="comment">#    .add_xaxis([1,2,3,4.5])</span></span><br><span class="line"><span class="comment">#    .add_yaxis(&quot;商家A&quot;, list2,stack=&quot;stack&quot;)</span></span><br><span class="line"><span class="comment">#    .add_yaxis(&quot;商家B&quot;, list3,stack=&quot;stack&quot;)</span></span><br><span class="line">   .set_global_opts(</span><br><span class="line">          <span class="comment">#2.工具栏</span></span><br><span class="line">          toolbox_opts=opts.ToolboxOpts(</span><br><span class="line">                    is_show=<span class="literal">True</span></span><br><span class="line">                    <span class="comment"># 工具栏 icon 的布局朝向 可选：&#x27;horizontal&#x27;, &#x27;vertical&#x27;</span></span><br><span class="line">                    ,orient=<span class="string">&quot;horizontal&quot;</span></span><br><span class="line">                    <span class="comment">#位置</span></span><br><span class="line"><span class="comment">#                     ,pos_left=&#x27;center&#x27;</span></span><br><span class="line"><span class="comment">#                     ,pos_right=&#x27;center&#x27;</span></span><br><span class="line"><span class="comment">#                     ,pos_top=&#x27;top&#x27;</span></span><br><span class="line"><span class="comment">#                     ,pos_bottom=&#x27;top&#x27;</span></span><br><span class="line">                    <span class="comment">#各工具配置项</span></span><br><span class="line">                    ,feature=opts.ToolBoxFeatureOpts(</span><br><span class="line">                        <span class="comment">#保存为图片的格式</span></span><br><span class="line">                        save_as_image=opts.ToolBoxFeatureSaveAsImageOpts(type_=<span class="string">&quot;jpeg&quot;</span>,is_show=<span class="literal">True</span>)</span><br><span class="line">                         <span class="comment">#数据视图</span></span><br><span class="line">                        ,data_view = opts.ToolBoxFeatureDataViewOpts(is_show=<span class="literal">True</span>)</span><br><span class="line">                        <span class="comment"># 数据区域缩放。（目前只支持直角坐标系的缩放）</span></span><br><span class="line">                        ,data_zoom=opts.ToolBoxFeatureDataZoomOpts(is_show=<span class="literal">False</span>)</span><br><span class="line">                        <span class="comment">#动态类型切换。</span></span><br><span class="line">                        ,magic_type=opts.ToolBoxFeatureMagicTypeOpts(is_show=<span class="literal">True</span>)</span><br><span class="line">                        <span class="comment">#选框组件的控制按钮。</span></span><br><span class="line">                        ,brush=opts.ToolBoxFeatureBrushOpts(type_=<span class="string">&quot;clear&quot;</span>)</span><br><span class="line">                        <span class="comment">#还原</span></span><br><span class="line">                        ,restore = opts.ToolBoxFeatureRestoreOpts()</span><br><span class="line">                    )</span><br><span class="line">          ),</span><br><span class="line">          <span class="comment">#3.提示框 点击图标时</span></span><br><span class="line">          tooltip_opts=opts.TooltipOpts(</span><br><span class="line">                    is_show=<span class="literal">True</span></span><br><span class="line">                    <span class="comment"># 触发类型 </span></span><br><span class="line">                    <span class="comment"># &#x27;item&#x27;: 数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。</span></span><br><span class="line">                    <span class="comment"># &#x27;axis&#x27;: 坐标轴触发，主要在柱状图，折线图等会使用类目轴的图表中使用。</span></span><br><span class="line">                    <span class="comment"># &#x27;none&#x27;: 什么都不触发</span></span><br><span class="line">                    ,trigger=<span class="literal">None</span></span><br><span class="line">                    <span class="comment">#提示框触发的条件</span></span><br><span class="line">                    <span class="comment"># &#x27;mousemove&#x27;: 鼠标移动时触发。</span></span><br><span class="line">                    <span class="comment"># &#x27;click&#x27;: 鼠标点击时触发。</span></span><br><span class="line">                    <span class="comment"># &#x27;mousemove|click&#x27;: 同时鼠标移动和点击时触发。</span></span><br><span class="line">                    <span class="comment"># &#x27;none&#x27;: 不在 &#x27;mousemove&#x27; 或 &#x27;click&#x27; 时触发，</span></span><br><span class="line">                    ,trigger_on=<span class="string">&quot;mousemove&quot;</span></span><br><span class="line">                    <span class="comment">#指示器类型</span></span><br><span class="line">                    <span class="comment"># &#x27;line&#x27;：直线指示器</span></span><br><span class="line">                    <span class="comment"># &#x27;shadow&#x27;：阴影指示器</span></span><br><span class="line">                    <span class="comment"># &#x27;none&#x27;：无指示器</span></span><br><span class="line">                    <span class="comment"># &#x27;cross&#x27;：十字准星指示器。其实是种简写，表示启用两个正交的轴的 axisPointer。</span></span><br><span class="line">                    ,axis_pointer_type=<span class="string">&quot;cross&quot;</span></span><br><span class="line">                    <span class="comment">#提示框浮层的边框颜色。</span></span><br><span class="line">                    ,border_color=<span class="string">&quot;#FF0000&quot;</span></span><br><span class="line">                    <span class="comment">#提示框浮层的边框宽</span></span><br><span class="line">                    ,border_width=<span class="number">5</span></span><br><span class="line">                    <span class="comment"># 标签内容格式器</span></span><br><span class="line">                    <span class="comment"># &#123;a&#125;：系列名。</span></span><br><span class="line">                    <span class="comment"># &#123;b&#125;：数据名。</span></span><br><span class="line">                    <span class="comment"># &#123;c&#125;：数据值。</span></span><br><span class="line">                    ,formatter=<span class="string">&quot;&#123;a&#125;:&#123;b&#125;:&#123;c&#125;&quot;</span> + <span class="string">&#x27;%&#x27;</span></span><br><span class="line">          ),</span><br><span class="line">          <span class="comment"># 4.AxisOpts：坐标轴配置项 x和y</span></span><br><span class="line">           xaxis_opts=opts.AxisOpts(type_=<span class="string">&quot;category&quot;</span>,is_show=<span class="literal">True</span>,name=<span class="string">&quot;类别&quot;</span>),</span><br><span class="line">           yaxis_opts=opts.AxisOpts(</span><br><span class="line">                    name=<span class="string">&quot;y轴名称&quot;</span>,</span><br><span class="line">                    is_show=<span class="literal">True</span>,</span><br><span class="line">                    <span class="comment"># 坐标轴类型 &#x27;value&#x27;: 数值轴，适用于连续数据。</span></span><br><span class="line">                    <span class="comment">#&#x27;category&#x27;: 类目轴，适用于离散的类目数据，为该类型时必须通过 data 设置类目数据</span></span><br><span class="line">                    <span class="comment">#&#x27;time&#x27;: 时间轴，适用于连续的时序数据，与数值轴相比时间轴带有时间的格式化，在刻度计算上也有所不同，</span></span><br><span class="line">                    <span class="comment">#&#x27;log&#x27; 对数轴。适用于对数数据。</span></span><br><span class="line">                    type_=<span class="string">&quot;value&quot;</span>,</span><br><span class="line">                    <span class="comment"># min_=0,</span></span><br><span class="line">                    <span class="comment"># max_=10000,</span></span><br><span class="line">                    <span class="comment"># interval=500,</span></span><br><span class="line">                    <span class="comment"># axislabel_opts=opts.LabelOpts(formatter=&quot;&#123;value&#125;&quot;),</span></span><br><span class="line">               </span><br><span class="line">                    <span class="comment">#坐标轴刻度 默认显示 可不配置</span></span><br><span class="line">                    axistick_opts=opts.AxisTickOpts(</span><br><span class="line">                        is_show=<span class="literal">True</span></span><br><span class="line">                        ,is_align_with_label=<span class="literal">True</span></span><br><span class="line">                    ),</span><br><span class="line">                    <span class="comment"># 分割线配置项 搭配x的分割线可以组成网格</span></span><br><span class="line">                    splitline_opts=opts.SplitLineOpts(</span><br><span class="line">                        is_show=<span class="literal">True</span></span><br><span class="line">                        </span><br><span class="line">                    ),</span><br><span class="line">                    <span class="comment"># 坐标轴刻度线配置项</span></span><br><span class="line">                    axisline_opts=opts.AxisLineOpts(</span><br><span class="line">                        is_show=<span class="literal">True</span></span><br><span class="line">                        <span class="comment">#显示箭头 arrow </span></span><br><span class="line">                        ,symbol=<span class="literal">None</span></span><br><span class="line">                    ),</span><br><span class="line">                    <span class="comment">#添加y轴刻度图例说明 如 10% 20% ....</span></span><br><span class="line">                    axislabel_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;value&#125;&quot;</span>+<span class="string">f&quot;&quot;</span>),</span><br><span class="line">                    <span class="comment"># 坐标轴名字反转 一般用于x轴 填入反转度数</span></span><br><span class="line">                    name_rotate=<span class="number">45</span>,</span><br><span class="line">                       </span><br><span class="line">            ),</span><br><span class="line">            <span class="comment"># 5.图例配置项</span></span><br><span class="line">           legend_opts=opts.LegendOpts(</span><br><span class="line">                  is_show=<span class="literal">True</span>,</span><br><span class="line">                   <span class="comment">#图例位置 left_right:&#x27;left&#x27;, &#x27;center&#x27;, &#x27;right&#x27;</span></span><br><span class="line">                   <span class="comment">#图例位置 top_bottom:&#x27;top&#x27;, &#x27;middle&#x27;, &#x27;bottom&#x27; 而且也可天20 像素值,或&#x27;20%&#x27;容器高宽的百分比</span></span><br><span class="line">                  pos_left=<span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                  pos_right=<span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                  pos_top=<span class="string">&#x27;middle&#x27;</span>,</span><br><span class="line">                  pos_bottom=<span class="string">&#x27;middle&#x27;</span>,</span><br><span class="line">                   <span class="comment">#图例布局朝向 vertical:竖向 horizontal:横向</span></span><br><span class="line">                  orient=<span class="string">&#x27;vertical&#x27;</span>,</span><br><span class="line">                   <span class="comment">#图例icon &#x27;circle&#x27;, &#x27;rect&#x27;, &#x27;roundRect&#x27;, &#x27;triangle&#x27;, &#x27;diamond&#x27;, &#x27;pin&#x27;, &#x27;arrow&#x27;, &#x27;none&#x27;</span></span><br><span class="line">                  legend_icon=<span class="string">&quot;roundRect&quot;</span>,</span><br><span class="line">            ),</span><br><span class="line">            <span class="comment"># 6.标题配置项</span></span><br><span class="line">            title_opts=opts.TitleOpts(</span><br><span class="line">                   title=<span class="string">&quot;测试-主标题&quot;</span></span><br><span class="line">                   ,subtitle=<span class="string">&quot;测试-副标题&quot;</span></span><br><span class="line">                   ,pos_left=<span class="string">&#x27;center&#x27;</span></span><br><span class="line">                   ,pos_right=<span class="string">&#x27;center&#x27;</span></span><br><span class="line">                   ,pos_top=<span class="string">&#x27;top&#x27;</span></span><br><span class="line">                   ,pos_bottom=<span class="string">&#x27;top&#x27;</span></span><br><span class="line">                   ,title_textstyle_opts=opts.TextStyleOpts(</span><br><span class="line">                       color=<span class="string">&quot;Green&quot;</span></span><br><span class="line">                       <span class="comment">#文字字体的风格 &#x27;normal&#x27;，&#x27;italic&#x27;，&#x27;oblique&#x27;</span></span><br><span class="line">                       ,font_style=<span class="string">&quot;italic&quot;</span></span><br><span class="line">                       <span class="comment">#主标题文字字体的粗细 &#x27;normal&#x27;，&#x27;bold&#x27;，&#x27;bolder&#x27;，&#x27;lighter&#x27;</span></span><br><span class="line">                       ,font_weight=<span class="string">&#x27;bold&#x27;</span></span><br><span class="line">                       <span class="comment">#文字的字体大小</span></span><br><span class="line">                       ,font_size=<span class="number">30</span></span><br><span class="line">                   )</span><br><span class="line">                   ,subtitle_textstyle_opts=opts.TextStyleOpts(</span><br><span class="line">                       color=<span class="string">&quot;Red&quot;</span></span><br><span class="line">                       ,font_style=<span class="string">&quot;oblique&quot;</span></span><br><span class="line">                       ,font_weight=<span class="string">&#x27;lighter&#x27;</span></span><br><span class="line">                   )</span><br><span class="line">            ),</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># 7. 区域缩放配置</span></span><br><span class="line">            datazoom_opts=opts.DataZoomOpts(</span><br><span class="line">                is_show=<span class="literal">True</span></span><br><span class="line">                <span class="comment"># 组件类别 可选 有筛选框:&quot;slider&quot;, 无筛选框依赖鼠标滑动:&quot;inside&quot;</span></span><br><span class="line">                ,type_=<span class="string">&quot;slider&quot;</span></span><br><span class="line">                <span class="comment"># 水平或竖直 水平:&#x27;horizontal&#x27;, 竖直:&#x27;vertical&#x27; 水平控制x轴 竖直控制y轴</span></span><br><span class="line">                ,orient=<span class="string">&quot;horizontal&quot;</span></span><br><span class="line">           </span><br><span class="line">            ),</span><br><span class="line">            <span class="comment"># 8 视觉映射配置项</span></span><br><span class="line">            visualmap_opts=opts.VisualMapOpts(</span><br><span class="line">                is_show=<span class="literal">True</span></span><br><span class="line">                <span class="comment"># 映射过渡类型，可选，&quot;color&quot;, &quot;size&quot;</span></span><br><span class="line">                ,type_=<span class="string">&quot;black&quot;</span></span><br><span class="line">                <span class="comment"># 水平:horizontal 竖直:vertical</span></span><br><span class="line">                ,orient=<span class="string">&quot;vertical&quot;</span></span><br><span class="line">                <span class="comment">#位置</span></span><br><span class="line">                ,pos_left=<span class="string">&#x27;left&#x27;</span></span><br><span class="line">                ,pos_right=<span class="string">&#x27;left&#x27;</span></span><br><span class="line">                ,pos_top=<span class="string">&#x27;middle&#x27;</span></span><br><span class="line">                ,pos_bottom=<span class="string">&#x27;middle&#x27;</span></span><br><span class="line">            ),</span><br><span class="line">        </span><br><span class="line">    )</span><br><span class="line">    .set_series_opts(</span><br><span class="line">        <span class="comment">#标签配置项 折线图 柱状图等 每个点的值</span></span><br><span class="line">        label_opts=opts.LabelOpts(</span><br><span class="line">            is_show=<span class="literal">True</span>,</span><br><span class="line">            position=<span class="string">&quot;inside&quot;</span>,</span><br><span class="line">            color=<span class="string">&quot;black&quot;</span>,</span><br><span class="line">            <span class="comment"># 配置柱状堆积图的百分比 需要加载js文件</span></span><br><span class="line"><span class="comment">#             formatter=JsCode(</span></span><br><span class="line"><span class="comment">#                 &quot;function(x)&#123;return Number(x.data.value).toFixed() +&#x27;&amp;&#x27; + Number(x.data.percent * 100).toFixed() + &#x27;%&#x27;;&#125;&quot;</span></span><br><span class="line"><span class="comment">#             ),</span></span><br><span class="line">            <span class="comment"># 常规 </span></span><br><span class="line">            <span class="comment"># 折线（区域）图、柱状（条形）图、K线图 : &#123;a&#125;（系列名称），&#123;b&#125;（类目值），&#123;c&#125;（数值）, &#123;d&#125;（无）</span></span><br><span class="line">            <span class="comment"># 散点图（气泡）图 : &#123;a&#125;（系列名称），&#123;b&#125;（数据名称），&#123;c&#125;（数值数组）, &#123;d&#125;（无）</span></span><br><span class="line">            <span class="comment"># 地图 : &#123;a&#125;（系列名称），&#123;b&#125;（区域名称），&#123;c&#125;（合并数值）, &#123;d&#125;（无）</span></span><br><span class="line">            <span class="comment"># 饼图、仪表盘、漏斗图: &#123;a&#125;（系列名称），&#123;b&#125;（数据项名称），&#123;c&#125;（数值）, &#123;d&#125;（百分比）</span></span><br><span class="line">            <span class="comment"># 示例：formatter: &#x27;&#123;b&#125;: &#123;@score&#125;&#x27;</span></span><br><span class="line">            formatter=<span class="string">&quot;&#123;a&#125;:&#123;c&#125;&quot;</span> + <span class="string">&#x27;%&#x27;</span></span><br><span class="line">        ),</span><br><span class="line">        <span class="comment">#标记点配置项</span></span><br><span class="line"><span class="comment">#         markpoint_opts=opts.MarkPointOpts(</span></span><br><span class="line"><span class="comment">#             data=[opts.MarkPointItem(type_=&quot;max&quot;,name=&quot;最大值&quot;)]</span></span><br><span class="line"><span class="comment">#         ),</span></span><br><span class="line">        <span class="comment"># 标记线配置项</span></span><br><span class="line"><span class="comment">#         markline_opts=opts.MarkLineOpts(</span></span><br><span class="line"><span class="comment">#             data=[</span></span><br><span class="line"><span class="comment">#                 opts.MarkLineItem(type_=&quot;min&quot;, name=&quot;最小值&quot;),</span></span><br><span class="line"><span class="comment">#                 opts.MarkLineItem(type_=&quot;max&quot;, name=&quot;最大值&quot;),</span></span><br><span class="line"><span class="comment">#                 opts.MarkLineItem(type_=&quot;average&quot;, name=&quot;平均值&quot;),</span></span><br><span class="line"><span class="comment">#             ]</span></span><br><span class="line"><span class="comment">#         ),</span></span><br><span class="line">        <span class="comment">#涟漪特效 一般用户散点图</span></span><br><span class="line">        effect_opts=opts.EffectOpts(</span><br><span class="line">            is_show=<span class="literal">False</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">bar.add_js_funcs(<span class="string">&quot;console.log(&#x27;hello world&#x27;)&quot;</span>)</span><br><span class="line"><span class="comment">#bar.render(&quot;js.html&quot;)</span></span><br><span class="line">bar.render_notebook()</span><br><span class="line"><span class="comment">#bar.get_options()</span></span><br><span class="line"><span class="comment"># bar.dump_options()</span></span><br><span class="line"><span class="comment"># bar.dump_options_with_quotes()</span></span><br></pre></td></tr></table></figure>

<h5 id="3-1-3-折线图"><a href="#3-1-3-折线图" class="headerlink" title="3.1.3 折线图"></a>3.1.3 折线图</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Line</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">		<span class="comment"># 初始化配置项，参考 `global_options.InitOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    init_opts: opts.InitOpts = opts.InitOpts(<span class="params"></span>)</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">add_yaxis</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列名称，用于 tooltip 的显示，legend 的图例筛选。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    series_name: str,</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列数据</span></span></span></span><br><span class="line"><span class="class"><span class="params">    y_axis: types.Sequence[types.Union[opts.LineItem, dict]],</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否选中图例</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_selected: bool = True,</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否连接空数据，空数据使用 `None` 填充</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_connect_nones: bool = False,</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 使用的 x 轴的 index，在单个图表实例中存在多个 x 轴的时候有用。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    xaxis_index: Optional[Numeric] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 使用的 y 轴的 index，在单个图表实例中存在多个 y 轴的时候有用。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    yaxis_index: Optional[Numeric] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列 label 颜色</span></span></span></span><br><span class="line"><span class="class"><span class="params">    color: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否显示 symbol, 如果 false 则只有在 tooltip hover 的时候显示。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_symbol_show: bool = True,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标记的图形。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># ECharts 提供的标记类型包括 &#x27;circle&#x27;, &#x27;rect&#x27;, &#x27;roundRect&#x27;, &#x27;triangle&#x27;, </span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># &#x27;diamond&#x27;, &#x27;pin&#x27;, &#x27;arrow&#x27;, &#x27;none&#x27;</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 可以通过 &#x27;image://url&#x27; 设置为图片，其中 URL 为图片的链接，或者 dataURI。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    symbol: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标记的大小，可以设置成诸如 10 这样单一的数字，也可以用数组分开表示宽和高，</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 例如 [20, 10] 表示标记宽为 20，高为 10。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    symbol_size: Union[Numeric, Sequence] = <span class="number">4</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 数据堆叠，同个类目轴上系列配置相同的　stack　值可以堆叠放置。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    stack: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否平滑曲线</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_smooth: bool = False,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否裁剪超出坐标系部分的图形。折线图：裁掉所有超出坐标系的折线部分，拐点图形的逻辑按照散点图处理</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_clip: bool = True,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否显示成阶梯图</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_step: bool = False,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否开启 hover 在拐点标志上的提示动画效果。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_hover_animation: bool = True,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 折线图所有图形的 zlevel 值。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># zlevel用于 Canvas 分层，不同zlevel值的图形会放置在不同的 Canvas 中，Canvas 分层是一种常见的优化手段。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># zlevel 大的 Canvas 会放在 zlevel 小的 Canvas 的上面。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    z_level: types.Numeric = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 折线图组件的所有图形的z值。控制图形的前后顺序。z值小的图形会被z值大的图形覆盖。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># z 相比 zlevel 优先级更低，而且不会创建新的 Canvas。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    z: types.Numeric = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标记点配置项，参考 `series_options.MarkPointOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    markpoint_opts: Union[opts.MarkPointOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标记线配置项，参考 `series_options.MarkLineOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    markline_opts: Union[opts.MarkLineOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 提示框组件配置项，参考 `series_options.TooltipOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    tooltip_opts: Union[opts.TooltipOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标签配置项，参考 `series_options.LabelOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    label_opts: Union[opts.LabelOpts, dict] = opts.LabelOpts(<span class="params"></span>),</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 线样式配置项，参考 `series_options.LineStyleOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    linestyle_opts: Union[opts.LineStyleOpts, dict] = opts.LineStyleOpts(<span class="params"></span>),</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 填充区域配置项，参考 `series_options.AreaStyleOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    areastyle_opts: Union[opts.AreaStyleOpts, dict] = opts.AreaStyleOpts(<span class="params"></span>),</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 图元样式配置项，参考 `series_options.ItemStyleOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    itemstyle_opts: Union[opts.ItemStyleOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br></pre></td></tr></table></figure>

<p><strong>例子:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pyecharts.options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Line</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"></span><br><span class="line">c = (</span><br><span class="line">    Line()</span><br><span class="line">    .add_xaxis(Faker.choose())</span><br><span class="line">    .add_yaxis(<span class="string">&quot;商家A&quot;</span>, Faker.values(), is_smooth=<span class="literal">True</span>)</span><br><span class="line">    .add_yaxis(<span class="string">&quot;商家B&quot;</span>, Faker.values(), is_smooth=<span class="literal">True</span>)</span><br><span class="line">    .set_series_opts(</span><br><span class="line">        areastyle_opts=opts.AreaStyleOpts(opacity=<span class="number">0.5</span>),</span><br><span class="line">        label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>),</span><br><span class="line">    )</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&quot;Line-面积图（紧贴 Y 轴）&quot;</span>),</span><br><span class="line">        xaxis_opts=opts.AxisOpts(</span><br><span class="line">            axistick_opts=opts.AxisTickOpts(is_align_with_label=<span class="literal">True</span>),</span><br><span class="line">            is_scale=<span class="literal">False</span>,</span><br><span class="line">            boundary_gap=<span class="literal">False</span>,</span><br><span class="line">        ),</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>



<h5 id="3-1-4-箱型图"><a href="#3-1-4-箱型图" class="headerlink" title="3.1.4 箱型图"></a>3.1.4 箱型图</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Boxplot</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">		<span class="comment"># 初始化配置项，参考 `global_options.InitOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    init_opts: opts.InitOpts = opts.InitOpts(<span class="params"></span>)</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">add_yaxis</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列名称，用于 tooltip 的显示，legend 的图例筛选。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    series_name: str,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列数据</span></span></span></span><br><span class="line"><span class="class"><span class="params">    y_axis: types.Sequence[types.Union[opts.BoxplotItem, dict]],</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否选中图例</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_selected: bool = True,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 使用的 x 轴的 index，在单个图表实例中存在多个 x 轴的时候有用。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    xaxis_index: Optional[Numeric] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 使用的 y 轴的 index，在单个图表实例中存在多个 y 轴的时候有用。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    yaxis_index: Optional[Numeric] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标签配置项，参考 `series_options.LabelOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    label_opts: Union[opts.LabelOpts, dict] = opts.LabelOpts(<span class="params"></span>),</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标记点配置项，参考 `series_options.MarkPointOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    markpoint_opts: Union[opts.MarkPointOpts, dict] = opts.MarkPointOpts(<span class="params"></span>),</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标记线配置项，参考 `series_options.MarkLineOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    markline_opts: Union[opts.MarkLineOpts, dict] = opts.MarkLineOpts(<span class="params"></span>),</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 提示框组件配置项，参考 `series_options.TooltipOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    tooltip_opts: Union[opts.TooltipOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 图元样式配置项，参考 `series_options.ItemStyleOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    itemstyle_opts: Union[opts.ItemStyleOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br></pre></td></tr></table></figure>

<p><strong>例子:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Boxplot</span><br><span class="line"></span><br><span class="line">v1 = [</span><br><span class="line">    [<span class="number">850</span>, <span class="number">740</span>, <span class="number">900</span>, <span class="number">1070</span>, <span class="number">930</span>, <span class="number">850</span>, <span class="number">950</span>, <span class="number">980</span>, <span class="number">980</span>, <span class="number">880</span>, <span class="number">1000</span>, <span class="number">980</span>],</span><br><span class="line">    [<span class="number">960</span>, <span class="number">940</span>, <span class="number">960</span>, <span class="number">940</span>, <span class="number">880</span>, <span class="number">800</span>, <span class="number">850</span>, <span class="number">880</span>, <span class="number">900</span>, <span class="number">840</span>, <span class="number">830</span>, <span class="number">790</span>],</span><br><span class="line">]</span><br><span class="line">v2 = [</span><br><span class="line">    [<span class="number">890</span>, <span class="number">810</span>, <span class="number">810</span>, <span class="number">820</span>, <span class="number">800</span>, <span class="number">770</span>, <span class="number">760</span>, <span class="number">740</span>, <span class="number">750</span>, <span class="number">760</span>, <span class="number">910</span>, <span class="number">920</span>],</span><br><span class="line">    [<span class="number">890</span>, <span class="number">840</span>, <span class="number">780</span>, <span class="number">810</span>, <span class="number">760</span>, <span class="number">810</span>, <span class="number">790</span>, <span class="number">810</span>, <span class="number">820</span>, <span class="number">850</span>, <span class="number">870</span>, <span class="number">870</span>],</span><br><span class="line">]</span><br><span class="line">c = Boxplot()</span><br><span class="line">c.add_xaxis([<span class="string">&quot;expr1&quot;</span>, <span class="string">&quot;expr2&quot;</span>])</span><br><span class="line">c.add_yaxis(<span class="string">&quot;A&quot;</span>, c.prepare_data(v1))</span><br><span class="line">c.add_yaxis(<span class="string">&quot;B&quot;</span>, c.prepare_data(v2))</span><br><span class="line">c.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;BoxPlot-基本示例&quot;</span>))</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>



<h5 id="3-1-6-热力图"><a href="#3-1-6-热力图" class="headerlink" title="3.1.6 热力图"></a>3.1.6 热力图</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HeatMap</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 初始化配置项，参考 `global_options.InitOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    init_opts: opts.InitOpts = opts.InitOpts(<span class="params"></span>)</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">add_yaxis</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列名称，用于 tooltip 的显示，legend 的图例筛选。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    series_name: str,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># Y 坐标轴数据</span></span></span></span><br><span class="line"><span class="class"><span class="params">    yaxis_data: types.Sequence[types.Union[opts.HeatMapItem, dict]],</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列数据项</span></span></span></span><br><span class="line"><span class="class"><span class="params">    value: types.Sequence[types.Union[opts.HeatMapItem, dict]],</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否选中图例</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_selected: bool = True,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 使用的 x 轴的 index，在单个图表实例中存在多个 x 轴的时候有用。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    xaxis_index: Optional[Numeric] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 使用的 y 轴的 index，在单个图表实例中存在多个 y 轴的时候有用。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    yaxis_index: Optional[Numeric] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标签配置项，参考 `series_options.LabelOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    label_opts: Union[opts.LabelOpts, dict] = opts.LabelOpts(<span class="params"></span>),</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标记点配置项，参考 `series_options.MarkPointOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    markpoint_opts: Union[opts.MarkPointOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标记线配置项，参考 `series_options.MarkLineOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    markline_opts: Union[opts.MarkLineOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 提示框组件配置项，参考 `series_options.TooltipOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    tooltip_opts: Union[opts.TooltipOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 图元样式配置项，参考 `series_options.ItemStyleOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    itemstyle_opts: Union[opts.ItemStyleOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br></pre></td></tr></table></figure>

<p><strong>例子:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> HeatMap</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"></span><br><span class="line">value = [[i, j, random.randint(<span class="number">0</span>, <span class="number">50</span>)] <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">24</span>) <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">7</span>)]</span><br><span class="line">c = (</span><br><span class="line">    HeatMap()</span><br><span class="line">    .add_xaxis(Faker.clock)</span><br><span class="line">    .add_yaxis(</span><br><span class="line">        <span class="string">&quot;series0&quot;</span>,</span><br><span class="line">        Faker.week,</span><br><span class="line">        value,</span><br><span class="line">        label_opts=opts.LabelOpts(is_show=<span class="literal">True</span>, position=<span class="string">&quot;inside&quot;</span>),</span><br><span class="line">    )</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&quot;HeatMap-Label 显示&quot;</span>),</span><br><span class="line">        visualmap_opts=opts.VisualMapOpts(),</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<h5 id="3-1-7-散点图"><a href="#3-1-7-散点图" class="headerlink" title="3.1.7 散点图"></a>3.1.7 散点图</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Scatter</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 初始化配置项，参考 `global_options.InitOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    init_opts: opts.InitOpts = opts.InitOpts(<span class="params"></span>)</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br></pre></td></tr></table></figure>

<p><strong>例子:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Scatter</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"></span><br><span class="line">c = (</span><br><span class="line">    Scatter()</span><br><span class="line">    .add_xaxis(Faker.choose())</span><br><span class="line">    .add_yaxis(<span class="string">&quot;商家A&quot;</span>, Faker.values())</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&quot;Scatter-VisualMap(Color)&quot;</span>),</span><br><span class="line">        visualmap_opts=opts.VisualMapOpts(max_=<span class="number">150</span>),</span><br><span class="line">    )    </span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<h5 id="3-1-8-层叠多图"><a href="#3-1-8-层叠多图" class="headerlink" title="3.1.8 层叠多图"></a>3.1.8 层叠多图</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar, Line</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"></span><br><span class="line">v1 = [<span class="number">2.0</span>, <span class="number">4.9</span>, <span class="number">7.0</span>, <span class="number">23.2</span>, <span class="number">25.6</span>, <span class="number">76.7</span>, <span class="number">135.6</span>, <span class="number">162.2</span>, <span class="number">32.6</span>, <span class="number">20.0</span>, <span class="number">6.4</span>, <span class="number">3.3</span>]</span><br><span class="line">v2 = [<span class="number">2.6</span>, <span class="number">5.9</span>, <span class="number">9.0</span>, <span class="number">26.4</span>, <span class="number">28.7</span>, <span class="number">70.7</span>, <span class="number">175.6</span>, <span class="number">182.2</span>, <span class="number">48.7</span>, <span class="number">18.8</span>, <span class="number">6.0</span>, <span class="number">2.3</span>]</span><br><span class="line">v3 = [<span class="number">2.0</span>, <span class="number">2.2</span>, <span class="number">3.3</span>, <span class="number">4.5</span>, <span class="number">6.3</span>, <span class="number">10.2</span>, <span class="number">20.3</span>, <span class="number">23.4</span>, <span class="number">23.0</span>, <span class="number">16.5</span>, <span class="number">12.0</span>, <span class="number">6.2</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bar = (</span><br><span class="line">    Bar()</span><br><span class="line">    .add_xaxis(Faker.months)</span><br><span class="line">    .add_yaxis(<span class="string">&quot;蒸发量&quot;</span>, v1)</span><br><span class="line">    .add_yaxis(<span class="string">&quot;降水量&quot;</span>, v2)</span><br><span class="line">    .extend_axis(</span><br><span class="line">        yaxis=opts.AxisOpts(</span><br><span class="line">            axislabel_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;value&#125; °C&quot;</span>), interval=<span class="number">5</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    .set_series_opts(label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>))</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&quot;Overlap-bar+line&quot;</span>),</span><br><span class="line">        yaxis_opts=opts.AxisOpts(axislabel_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;value&#125; ml&quot;</span>)),</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">line = Line().add_xaxis(Faker.months).add_yaxis(<span class="string">&quot;平均温度&quot;</span>, v3, yaxis_index=<span class="number">1</span>)</span><br><span class="line">bar.overlap(line)</span><br><span class="line">bar.render_notebook()</span><br></pre></td></tr></table></figure>

<h4 id="3-2-基本图表"><a href="#3-2-基本图表" class="headerlink" title="3.2 基本图表"></a>3.2 基本图表</h4><p><strong>跟直角坐标系图区别无 add_yaxis等相关方法</strong></p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Calendar：日历图</span><br><span class="line">Funnel：漏斗图</span><br><span class="line">Gauge：仪表盘</span><br><span class="line">Graph：关系图</span><br><span class="line">Liquid：水球图</span><br><span class="line">Parallel：平行坐标系</span><br><span class="line">Pie：饼图</span><br><span class="line">Polar：极坐标系</span><br><span class="line">Radar：雷达图</span><br><span class="line">Sankey：桑基图</span><br><span class="line">Sunburst：旭日图</span><br><span class="line">ThemeRiver：主题河流图</span><br><span class="line">WordCloud：词云图</span><br></pre></td></tr></table></figure>

<h5 id="3-2-1-饼图"><a href="#3-2-1-饼图" class="headerlink" title="3.2.1 饼图"></a>3.2.1 饼图</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pie</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 初始化配置项，参考 `global_options.InitOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    init_opts: opts.InitOpts = opts.InitOpts(<span class="params"></span>)</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">add</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列名称，用于 tooltip 的显示，legend 的图例筛选。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    series_name: str,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列数据项，格式为 [(key1, value1), (key2, value2)]</span></span></span></span><br><span class="line"><span class="class"><span class="params">    data_pair: types.Sequence[types.Union[types.Sequence, opts.PieItem, dict]],</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列 label 颜色</span></span></span></span><br><span class="line"><span class="class"><span class="params">    color: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 饼图的半径，数组的第一项是内半径，第二项是外半径</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 默认设置成百分比，相对于容器高宽中较小的一项的一半</span></span></span></span><br><span class="line"><span class="class"><span class="params">    radius: Optional[Sequence] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 饼图的中心（圆心）坐标，数组的第一项是横坐标，第二项是纵坐标</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 默认设置成百分比，设置成百分比时第一项是相对于容器宽度，第二项是相对于容器高度</span></span></span></span><br><span class="line"><span class="class"><span class="params">    center: Optional[Sequence] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否展示成南丁格尔图，通过半径区分数据大小，有&#x27;radius&#x27;和&#x27;area&#x27;两种模式。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># radius：扇区圆心角展现数据的百分比，半径展现数据的大小</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># area：所有扇区圆心角相同，仅通过半径展现数据大小</span></span></span></span><br><span class="line"><span class="class"><span class="params">    rosetype: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 饼图的扇区是否是顺时针排布。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_clockwise: bool = True,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标签配置项，参考 `series_options.LabelOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    label_opts: Union[opts.LabelOpts, dict] = opts.LabelOpts(<span class="params"></span>),</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 提示框组件配置项，参考 `series_options.TooltipOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    tooltip_opts: Union[opts.TooltipOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 图元样式配置项，参考 `series_options.ItemStyleOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    itemstyle_opts: Union[opts.ItemStyleOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 可以定义 data 的哪个维度被编码成什么。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    encode: types.Union[types.JSFunc, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br></pre></td></tr></table></figure>

<p><strong>例子:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> CurrentConfig,NotebookType</span><br><span class="line">CurrentConfig.NOTEBOOK_TYPE = NotebookType.JUPYTER_NOTEBOOK</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pyecharts.options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> ThemeType</span><br><span class="line"><span class="keyword">from</span> pyecharts.commons.utils <span class="keyword">import</span> JsCode</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Pie</span><br><span class="line"></span><br><span class="line">c = (</span><br><span class="line">    Pie()</span><br><span class="line">    .add(<span class="string">&quot;&quot;</span>, [list(z) <span class="keyword">for</span> z <span class="keyword">in</span> zip(Faker.choose(), Faker.values())])</span><br><span class="line">    .set_colors([<span class="string">&quot;blue&quot;</span>, <span class="string">&quot;green&quot;</span>, <span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;red&quot;</span>, <span class="string">&quot;pink&quot;</span>, <span class="string">&quot;orange&quot;</span>, <span class="string">&quot;purple&quot;</span>])</span><br><span class="line">    </span><br><span class="line">    .set_series_opts(label_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;b&#125;: &#123;c&#125;&quot;</span>))</span><br><span class="line">    .set_global_opts(</span><br><span class="line">          <span class="comment">#2.工具栏</span></span><br><span class="line">          toolbox_opts=opts.ToolboxOpts(</span><br><span class="line">                    is_show=<span class="literal">True</span></span><br><span class="line">                    <span class="comment"># 工具栏 icon 的布局朝向 可选：&#x27;horizontal&#x27;, &#x27;vertical&#x27;</span></span><br><span class="line">                    ,orient=<span class="string">&quot;horizontal&quot;</span></span><br><span class="line">                    <span class="comment">#位置</span></span><br><span class="line"><span class="comment">#                     ,pos_left=&#x27;center&#x27;</span></span><br><span class="line"><span class="comment">#                     ,pos_right=&#x27;center&#x27;</span></span><br><span class="line"><span class="comment">#                     ,pos_top=&#x27;top&#x27;</span></span><br><span class="line"><span class="comment">#                     ,pos_bottom=&#x27;top&#x27;</span></span><br><span class="line">                    <span class="comment">#各工具配置项</span></span><br><span class="line">                    ,feature=opts.ToolBoxFeatureOpts(</span><br><span class="line">                        <span class="comment">#保存为图片的格式</span></span><br><span class="line">                        save_as_image=opts.ToolBoxFeatureSaveAsImageOpts(type_=<span class="string">&quot;jpeg&quot;</span>,is_show=<span class="literal">True</span>)</span><br><span class="line">                         <span class="comment">#数据视图</span></span><br><span class="line">                        ,data_view = opts.ToolBoxFeatureDataViewOpts(is_show=<span class="literal">True</span>)</span><br><span class="line">                        <span class="comment"># 数据区域缩放。（目前只支持直角坐标系的缩放）</span></span><br><span class="line">                        ,data_zoom=opts.ToolBoxFeatureDataZoomOpts(is_show=<span class="literal">False</span>)</span><br><span class="line">                        <span class="comment">#动态类型切换。</span></span><br><span class="line">                        ,magic_type=opts.ToolBoxFeatureMagicTypeOpts(is_show=<span class="literal">True</span>)</span><br><span class="line">                        <span class="comment">#选框组件的控制按钮。</span></span><br><span class="line">                        ,brush=opts.ToolBoxFeatureBrushOpts(type_=<span class="string">&quot;clear&quot;</span>)</span><br><span class="line">                        <span class="comment">#还原</span></span><br><span class="line">                        ,restore = opts.ToolBoxFeatureRestoreOpts()</span><br><span class="line">                    )</span><br><span class="line">          ),</span><br><span class="line">          <span class="comment">#3.提示框 点击图标时</span></span><br><span class="line">          tooltip_opts=opts.TooltipOpts(</span><br><span class="line">                    is_show=<span class="literal">True</span></span><br><span class="line">                    <span class="comment"># 触发类型 </span></span><br><span class="line">                    <span class="comment"># &#x27;item&#x27;: 数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。</span></span><br><span class="line">                    <span class="comment"># &#x27;axis&#x27;: 坐标轴触发，主要在柱状图，折线图等会使用类目轴的图表中使用。</span></span><br><span class="line">                    <span class="comment"># &#x27;none&#x27;: 什么都不触发</span></span><br><span class="line">                    ,trigger=<span class="string">&quot;axis&quot;</span></span><br><span class="line">                    <span class="comment">#提示框触发的条件</span></span><br><span class="line">                    <span class="comment"># &#x27;mousemove&#x27;: 鼠标移动时触发。</span></span><br><span class="line">                    <span class="comment"># &#x27;click&#x27;: 鼠标点击时触发。</span></span><br><span class="line">                    <span class="comment"># &#x27;mousemove|click&#x27;: 同时鼠标移动和点击时触发。</span></span><br><span class="line">                    <span class="comment"># &#x27;none&#x27;: 不在 &#x27;mousemove&#x27; 或 &#x27;click&#x27; 时触发，</span></span><br><span class="line">                    ,trigger_on=<span class="string">&quot;mousemove&quot;</span></span><br><span class="line">                    <span class="comment">#指示器类型</span></span><br><span class="line">                    <span class="comment"># &#x27;line&#x27;：直线指示器</span></span><br><span class="line">                    <span class="comment"># &#x27;shadow&#x27;：阴影指示器</span></span><br><span class="line">                    <span class="comment"># &#x27;none&#x27;：无指示器</span></span><br><span class="line">                    <span class="comment"># &#x27;cross&#x27;：十字准星指示器。其实是种简写，表示启用两个正交的轴的 axisPointer。</span></span><br><span class="line">                    ,axis_pointer_type=<span class="string">&quot;cross&quot;</span></span><br><span class="line">                    <span class="comment">#提示框浮层的边框颜色。</span></span><br><span class="line">                    ,border_color=<span class="string">&quot;#FF0000&quot;</span></span><br><span class="line">                    <span class="comment">#提示框浮层的边框宽</span></span><br><span class="line">                    ,border_width=<span class="number">5</span></span><br><span class="line">          ),</span><br><span class="line"><span class="comment">#         </span></span><br><span class="line">            <span class="comment"># 5.图例配置项</span></span><br><span class="line">           legend_opts=opts.LegendOpts(</span><br><span class="line">                  is_show=<span class="literal">True</span>,</span><br><span class="line">                   <span class="comment">#图例位置 left_right:&#x27;left&#x27;, &#x27;center&#x27;, &#x27;right&#x27;</span></span><br><span class="line">                   <span class="comment">#图例位置 top_bottom:&#x27;top&#x27;, &#x27;middle&#x27;, &#x27;bottom&#x27; 而且也可天20 像素值,或&#x27;20%&#x27;容器高宽的百分比</span></span><br><span class="line">                  pos_left=<span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                  pos_right=<span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                  pos_top=<span class="string">&#x27;middle&#x27;</span>,</span><br><span class="line">                  pos_bottom=<span class="string">&#x27;middle&#x27;</span>,</span><br><span class="line">                   <span class="comment">#图例布局朝向 vertical:竖向 horizontal:横向</span></span><br><span class="line">                  orient=<span class="string">&#x27;vertical&#x27;</span>,</span><br><span class="line">                   <span class="comment">#图例icon &#x27;circle&#x27;, &#x27;rect&#x27;, &#x27;roundRect&#x27;, &#x27;triangle&#x27;, &#x27;diamond&#x27;, &#x27;pin&#x27;, &#x27;arrow&#x27;, &#x27;none&#x27;</span></span><br><span class="line">                  legend_icon=<span class="string">&quot;roundRect&quot;</span>,</span><br><span class="line">            ),</span><br><span class="line">            <span class="comment"># 6.标题配置项</span></span><br><span class="line">            title_opts=opts.TitleOpts(</span><br><span class="line">                   title=<span class="string">&quot;测试-主标题&quot;</span></span><br><span class="line">                   ,subtitle=<span class="string">&quot;测试-副标题&quot;</span></span><br><span class="line">                   ,pos_left=<span class="string">&#x27;center&#x27;</span></span><br><span class="line">                   ,pos_right=<span class="string">&#x27;center&#x27;</span></span><br><span class="line">                   ,pos_top=<span class="string">&#x27;top&#x27;</span></span><br><span class="line">                   ,pos_bottom=<span class="string">&#x27;top&#x27;</span></span><br><span class="line">                   ,title_textstyle_opts=opts.TextStyleOpts(</span><br><span class="line">                       color=<span class="string">&quot;Green&quot;</span></span><br><span class="line">                       <span class="comment">#文字字体的风格 &#x27;normal&#x27;，&#x27;italic&#x27;，&#x27;oblique&#x27;</span></span><br><span class="line">                       ,font_style=<span class="string">&quot;italic&quot;</span></span><br><span class="line">                       <span class="comment">#主标题文字字体的粗细 &#x27;normal&#x27;，&#x27;bold&#x27;，&#x27;bolder&#x27;，&#x27;lighter&#x27;</span></span><br><span class="line">                       ,font_weight=<span class="string">&#x27;bold&#x27;</span></span><br><span class="line">                       <span class="comment">#文字的字体大小</span></span><br><span class="line">                       ,font_size=<span class="number">30</span></span><br><span class="line">                   )</span><br><span class="line">                   ,subtitle_textstyle_opts=opts.TextStyleOpts(</span><br><span class="line">                       color=<span class="string">&quot;Red&quot;</span></span><br><span class="line">                       ,font_style=<span class="string">&quot;oblique&quot;</span></span><br><span class="line">                       ,font_weight=<span class="string">&#x27;lighter&#x27;</span></span><br><span class="line">                   )</span><br><span class="line">            ),</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">            <span class="comment"># 8 视觉映射配置项</span></span><br><span class="line">            visualmap_opts=opts.VisualMapOpts(</span><br><span class="line">                is_show=<span class="literal">True</span></span><br><span class="line">                <span class="comment"># 映射过渡类型，可选，&quot;color&quot;, &quot;size&quot;</span></span><br><span class="line">                ,type_=<span class="string">&quot;color&quot;</span></span><br><span class="line">                <span class="comment"># 水平:horizontal 竖直:vertical</span></span><br><span class="line">                ,orient=<span class="string">&quot;vertical&quot;</span></span><br><span class="line">                <span class="comment">#位置</span></span><br><span class="line">                ,pos_left=<span class="string">&#x27;left&#x27;</span></span><br><span class="line">                ,pos_right=<span class="string">&#x27;left&#x27;</span></span><br><span class="line">                ,pos_top=<span class="string">&#x27;middle&#x27;</span></span><br><span class="line">                ,pos_bottom=<span class="string">&#x27;middle&#x27;</span></span><br><span class="line">            ),</span><br><span class="line">        </span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<h5 id="3-2-2-漏斗图"><a href="#3-2-2-漏斗图" class="headerlink" title="3.2.2 漏斗图"></a>3.2.2 漏斗图</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Funnel</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 初始化配置项，参考 `global_options.InitOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    init_opts: opts.InitOpts = opts.InitOpts(<span class="params"></span>)</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">add</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列名称，用于 tooltip 的显示，legend 的图例筛选。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    series_name: str,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列数据项，格式为 [(key1, value1), (key2, value2)]</span></span></span></span><br><span class="line"><span class="class"><span class="params">    data_pair: Sequence,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否选中图例</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_selected: bool = True,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 系列 label 颜色</span></span></span></span><br><span class="line"><span class="class"><span class="params">    color: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 数据排序， 可以取 &#x27;ascending&#x27;，&#x27;descending&#x27;，&#x27;none&#x27;（表示按 data 顺序）</span></span></span></span><br><span class="line"><span class="class"><span class="params">    sort_: str = <span class="string">&quot;descending&quot;</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 数据图形间距</span></span></span></span><br><span class="line"><span class="class"><span class="params">    gap: Numeric = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标签配置项，参考 `series_options.LabelOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    label_opts: Union[opts.LabelOpts, dict] = opts.LabelOpts(<span class="params"></span>),</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 提示框组件配置项，参考 `series_options.TooltipOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    tooltip_opts: Union[opts.TooltipOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 图元样式配置项，参考 `series_options.ItemStyleOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    itemstyle_opts: Union[opts.ItemStyleOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br></pre></td></tr></table></figure>

<p><strong>例子:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Funnel</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"></span><br><span class="line">c = (</span><br><span class="line">    Funnel()</span><br><span class="line">    .add(<span class="string">&quot;商品&quot;</span>, [list(z) <span class="keyword">for</span> z <span class="keyword">in</span> zip(Faker.choose(), Faker.values())])</span><br><span class="line">    .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Funnel-基本示例&quot;</span>))</span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>





<h4 id="3-3-树图"><a href="#3-3-树图" class="headerlink" title="3.3 树图"></a>3.3 树图</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Tree：树图</span><br><span class="line">TreeMap：矩形树图</span><br></pre></td></tr></table></figure>





<h4 id="3-4-3D图"><a href="#3-4-3D图" class="headerlink" title="3.4 3D图"></a>3.4 3D图</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Bar3D：3D柱状图</span><br><span class="line">Line3D：3D折线图</span><br><span class="line">Scatter3D：3D散点图</span><br><span class="line">Surface3D：3D曲面图</span><br><span class="line">Map3D: 三维地图</span><br></pre></td></tr></table></figure>





<h4 id="3-5-地理图"><a href="#3-5-地理图" class="headerlink" title="3.5 地理图"></a>3.5 地理图</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Geo：地理坐标系</span><br><span class="line">Map：地图</span><br><span class="line">BMap：百度地图</span><br></pre></td></tr></table></figure>



<h4 id="3-6-组合图表"><a href="#3-6-组合图表" class="headerlink" title="3.6 组合图表"></a>3.6 组合图表</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Grid：并行多图</span><br><span class="line">Page：顺序多图</span><br><span class="line">Tab：选项卡多图</span><br><span class="line">Timeline：时间线轮播多图</span><br></pre></td></tr></table></figure>

<h5 id="3-6-1-并行多图Grid"><a href="#3-6-1-并行多图Grid" class="headerlink" title="3.6.1 并行多图Grid"></a>3.6.1 并行多图Grid</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Grid</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 初始化配置项，参考 `global_options.InitOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    init_opts: opts.InitOpts = opts.InitOpts(<span class="params"></span>)</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">add</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 图表实例，仅 `Chart` 类或者其子类</span></span></span></span><br><span class="line"><span class="class"><span class="params">    chart: Chart,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 直角坐标系网格配置项，参见 `GridOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    grid_opts: Union[opts.GridOpts, dict],</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 直角坐标系网格索引</span></span></span></span><br><span class="line"><span class="class"><span class="params">    grid_index: int = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否由自己控制 Axis 索引</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_control_axis_index: bool = False,</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">GridOpts</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 是否显示直角坐标系网格。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_show: bool = False,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 所有图形的 zlevel 值。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    z_level: Numeric = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 组件的所有图形的z值。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    z: Numeric = <span class="number">2</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># grid 组件离容器左侧的距离。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># left 的值可以是像 20 这样的具体像素值，可以是像 &#x27;20%&#x27; 这样相对于容器高宽的百分比，</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 也可以是 &#x27;left&#x27;, &#x27;center&#x27;, &#x27;right&#x27;。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 如果 left 的值为&#x27;left&#x27;, &#x27;center&#x27;, &#x27;right&#x27;，组件会根据相应的位置自动对齐。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    pos_left: Union[Numeric, str, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># grid 组件离容器上侧的距离。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># top 的值可以是像 20 这样的具体像素值，可以是像 &#x27;20%&#x27; 这样相对于容器高宽的百分比，</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 也可以是 &#x27;top&#x27;, &#x27;middle&#x27;, &#x27;bottom&#x27;。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 如果 top 的值为&#x27;top&#x27;, &#x27;middle&#x27;, &#x27;bottom&#x27;，组件会根据相应的位置自动对齐。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    pos_top: Union[Numeric, str, None]  = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># grid 组件离容器右侧的距离。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># right 的值可以是像 20 这样的具体像素值，可以是像 &#x27;20%&#x27; 这样相对于容器高宽的百分比。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    pos_right: Union[Numeric, str, None]  = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># grid 组件离容器下侧的距离。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># bottom 的值可以是像 20 这样的具体像素值，可以是像 &#x27;20%&#x27; 这样相对于容器高宽的百分比。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    pos_bottom: Union[Numeric, str, None]  = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># grid 组件的宽度。默认自适应。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    width: Union[Numeric, str, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># grid 组件的高度。默认自适应。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    height: Union[Numeric, str, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># grid 区域是否包含坐标轴的刻度标签。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    is_contain_label: bool = False,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 网格背景色，默认透明。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    background_color: str = <span class="string">&quot;transparent&quot;</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 网格的边框颜色。支持的颜色格式同 backgroundColor。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    border_color: str = <span class="string">&quot;#ccc&quot;</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 网格的边框线宽。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    border_width: Numeric = <span class="number">1</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 本坐标系特定的 tooltip 设定。</span></span></span></span><br><span class="line"><span class="class"><span class="params">    tooltip_opts: Union[TooltipOpts, dict, None] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br></pre></td></tr></table></figure>

<p><strong>例子:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar, Grid, Line</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"></span><br><span class="line">bar = (</span><br><span class="line">    Bar()</span><br><span class="line">    .add_xaxis(Faker.choose())</span><br><span class="line">    .add_yaxis(<span class="string">&quot;商家A&quot;</span>, Faker.values())</span><br><span class="line">    .add_yaxis(<span class="string">&quot;商家B&quot;</span>, Faker.values())</span><br><span class="line">    .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Grid-Bar&quot;</span>))</span><br><span class="line">)</span><br><span class="line">line = (</span><br><span class="line">    Line()</span><br><span class="line">    .add_xaxis(Faker.choose())</span><br><span class="line">    .add_yaxis(<span class="string">&quot;商家A&quot;</span>, Faker.values())</span><br><span class="line">    .add_yaxis(<span class="string">&quot;商家B&quot;</span>, Faker.values())</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&quot;Grid-Line&quot;</span>, pos_top=<span class="string">&quot;48%&quot;</span>),</span><br><span class="line">        legend_opts=opts.LegendOpts(pos_top=<span class="string">&quot;48%&quot;</span>),</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">grid = (</span><br><span class="line">    Grid()</span><br><span class="line">    .add(bar, grid_opts=opts.GridOpts(pos_bottom=<span class="string">&quot;60%&quot;</span>))</span><br><span class="line">    .add(line, grid_opts=opts.GridOpts(pos_top=<span class="string">&quot;60%&quot;</span>))</span><br><span class="line">    </span><br><span class="line">)</span><br><span class="line">grid.render_notebook()</span><br></pre></td></tr></table></figure>

<h5 id="3-6-2-顺序多图Page"><a href="#3-6-2-顺序多图Page" class="headerlink" title="3.6.2 顺序多图Page"></a>3.6.2 顺序多图Page</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Page</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># HTML 标题</span></span></span></span><br><span class="line"><span class="class"><span class="params">    page_title: str = <span class="string">&quot;Awesome-pyecharts&quot;</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 远程 HOST，默认为 &quot;https://assets.pyecharts.org/assets/&quot;</span></span></span></span><br><span class="line"><span class="class"><span class="params">    js_host: str = <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 每个图例之间的间隔</span></span></span></span><br><span class="line"><span class="class"><span class="params">    interval: int = <span class="number">1</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 布局配置项，参考 `PageLayoutOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    layout: Union[PageLayoutOpts, dict] = PageLayoutOpts(<span class="params"></span>)</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">add</span>(<span class="params">*charts</span>)    # <span class="title">charts</span>:</span> 任意图表实例</span><br><span class="line"></span><br><span class="line"><span class="comment"># 需要自己写css </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PageLayoutOpts</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 配置均为原生 CSS 样式</span></span></span></span><br><span class="line"><span class="class"><span class="params">    justify_content: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    margin: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    display: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params">    flex_wrap: Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">#用于 <span class="title">DraggablePageLayout</span> 布局重新渲染图表</span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">save_resize_html</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># Page 第一次渲染后的 html 文件</span></span></span></span><br><span class="line"><span class="class"><span class="params">    source: str = <span class="string">&quot;render.html&quot;</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    *,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 布局配置文件</span></span></span></span><br><span class="line"><span class="class"><span class="params">    cfg_file: types.Optional[str] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 布局配置 dict</span></span></span></span><br><span class="line"><span class="class"><span class="params">    cfg_dict: types.Optional[list] = None,</span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 重新生成的 .html 存放路径</span></span></span></span><br><span class="line"><span class="class"><span class="params">    dest: str = <span class="string">&quot;resize_render.html&quot;</span>,</span></span></span><br><span class="line"><span class="class"><span class="params"></span>) -&gt; str</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">#Page 内置了以下布局</span></span><br><span class="line"><span class="class">SimplePageLayout</span></span><br><span class="line"><span class="class">DraggablePageLayout</span></span><br></pre></td></tr></table></figure>

<p><strong>例子:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar, Grid, Line, Liquid, Page, Pie</span><br><span class="line"><span class="keyword">from</span> pyecharts.commons.utils <span class="keyword">import</span> JsCode</span><br><span class="line"><span class="keyword">from</span> pyecharts.components <span class="keyword">import</span> Table</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar_datazoom_slider</span>() -&gt; Bar:</span></span><br><span class="line">    c = (</span><br><span class="line">        Bar()</span><br><span class="line">        .add_xaxis(Faker.days_attrs)</span><br><span class="line">        .add_yaxis(<span class="string">&quot;商家A&quot;</span>, Faker.days_values)</span><br><span class="line">        .set_global_opts(</span><br><span class="line">            title_opts=opts.TitleOpts(title=<span class="string">&quot;Bar-DataZoom（slider-水平）&quot;</span>),</span><br><span class="line">            datazoom_opts=[opts.DataZoomOpts()],</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">line_markpoint</span>() -&gt; Line:</span></span><br><span class="line">    c = (</span><br><span class="line">        Line()</span><br><span class="line">        .add_xaxis(Faker.choose())</span><br><span class="line">        .add_yaxis(</span><br><span class="line">            <span class="string">&quot;商家A&quot;</span>,</span><br><span class="line">            Faker.values(),</span><br><span class="line">            markpoint_opts=opts.MarkPointOpts(data=[opts.MarkPointItem(type_=<span class="string">&quot;min&quot;</span>)]),</span><br><span class="line">        )</span><br><span class="line">        .add_yaxis(</span><br><span class="line">            <span class="string">&quot;商家B&quot;</span>,</span><br><span class="line">            Faker.values(),</span><br><span class="line">            markpoint_opts=opts.MarkPointOpts(data=[opts.MarkPointItem(type_=<span class="string">&quot;max&quot;</span>)]),</span><br><span class="line">        )</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Line-MarkPoint&quot;</span>))</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pie_rosetype</span>() -&gt; Pie:</span></span><br><span class="line">    v = Faker.choose()</span><br><span class="line">    c = (</span><br><span class="line">        Pie()</span><br><span class="line">        .add(</span><br><span class="line">            <span class="string">&quot;&quot;</span>,</span><br><span class="line">            [list(z) <span class="keyword">for</span> z <span class="keyword">in</span> zip(v, Faker.values())],</span><br><span class="line">            radius=[<span class="string">&quot;30%&quot;</span>, <span class="string">&quot;75%&quot;</span>],</span><br><span class="line">            center=[<span class="string">&quot;25%&quot;</span>, <span class="string">&quot;50%&quot;</span>],</span><br><span class="line">            rosetype=<span class="string">&quot;radius&quot;</span>,</span><br><span class="line">            label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>),</span><br><span class="line">        )</span><br><span class="line">        .add(</span><br><span class="line">            <span class="string">&quot;&quot;</span>,</span><br><span class="line">            [list(z) <span class="keyword">for</span> z <span class="keyword">in</span> zip(v, Faker.values())],</span><br><span class="line">            radius=[<span class="string">&quot;30%&quot;</span>, <span class="string">&quot;75%&quot;</span>],</span><br><span class="line">            center=[<span class="string">&quot;75%&quot;</span>, <span class="string">&quot;50%&quot;</span>],</span><br><span class="line">            rosetype=<span class="string">&quot;area&quot;</span>,</span><br><span class="line">        )</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Pie-玫瑰图示例&quot;</span>))</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">grid_mutil_yaxis</span>() -&gt; Grid:</span></span><br><span class="line">    x_data = [<span class="string">&quot;&#123;&#125;月&quot;</span>.format(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">13</span>)]</span><br><span class="line">    bar = (</span><br><span class="line">        Bar()</span><br><span class="line">        .add_xaxis(x_data)</span><br><span class="line">        .add_yaxis(</span><br><span class="line">            <span class="string">&quot;蒸发量&quot;</span>,</span><br><span class="line">            [<span class="number">2.0</span>, <span class="number">4.9</span>, <span class="number">7.0</span>, <span class="number">23.2</span>, <span class="number">25.6</span>, <span class="number">76.7</span>, <span class="number">135.6</span>, <span class="number">162.2</span>, <span class="number">32.6</span>, <span class="number">20.0</span>, <span class="number">6.4</span>, <span class="number">3.3</span>],</span><br><span class="line">            yaxis_index=<span class="number">0</span>,</span><br><span class="line">            color=<span class="string">&quot;#d14a61&quot;</span>,</span><br><span class="line">        )</span><br><span class="line">        .add_yaxis(</span><br><span class="line">            <span class="string">&quot;降水量&quot;</span>,</span><br><span class="line">            [<span class="number">2.6</span>, <span class="number">5.9</span>, <span class="number">9.0</span>, <span class="number">26.4</span>, <span class="number">28.7</span>, <span class="number">70.7</span>, <span class="number">175.6</span>, <span class="number">182.2</span>, <span class="number">48.7</span>, <span class="number">18.8</span>, <span class="number">6.0</span>, <span class="number">2.3</span>],</span><br><span class="line">            yaxis_index=<span class="number">1</span>,</span><br><span class="line">            color=<span class="string">&quot;#5793f3&quot;</span>,</span><br><span class="line">        )</span><br><span class="line">        .extend_axis(</span><br><span class="line">            yaxis=opts.AxisOpts(</span><br><span class="line">                name=<span class="string">&quot;蒸发量&quot;</span>,</span><br><span class="line">                type_=<span class="string">&quot;value&quot;</span>,</span><br><span class="line">                min_=<span class="number">0</span>,</span><br><span class="line">                max_=<span class="number">250</span>,</span><br><span class="line">                position=<span class="string">&quot;right&quot;</span>,</span><br><span class="line">                axisline_opts=opts.AxisLineOpts(</span><br><span class="line">                    linestyle_opts=opts.LineStyleOpts(color=<span class="string">&quot;#d14a61&quot;</span>)</span><br><span class="line">                ),</span><br><span class="line">                axislabel_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;value&#125; ml&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        .extend_axis(</span><br><span class="line">            yaxis=opts.AxisOpts(</span><br><span class="line">                type_=<span class="string">&quot;value&quot;</span>,</span><br><span class="line">                name=<span class="string">&quot;温度&quot;</span>,</span><br><span class="line">                min_=<span class="number">0</span>,</span><br><span class="line">                max_=<span class="number">25</span>,</span><br><span class="line">                position=<span class="string">&quot;left&quot;</span>,</span><br><span class="line">                axisline_opts=opts.AxisLineOpts(</span><br><span class="line">                    linestyle_opts=opts.LineStyleOpts(color=<span class="string">&quot;#675bba&quot;</span>)</span><br><span class="line">                ),</span><br><span class="line">                axislabel_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;value&#125; °C&quot;</span>),</span><br><span class="line">                splitline_opts=opts.SplitLineOpts(</span><br><span class="line">                    is_show=<span class="literal">True</span>, linestyle_opts=opts.LineStyleOpts(opacity=<span class="number">1</span>)</span><br><span class="line">                ),</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        .set_global_opts(</span><br><span class="line">            yaxis_opts=opts.AxisOpts(</span><br><span class="line">                name=<span class="string">&quot;降水量&quot;</span>,</span><br><span class="line">                min_=<span class="number">0</span>,</span><br><span class="line">                max_=<span class="number">250</span>,</span><br><span class="line">                position=<span class="string">&quot;right&quot;</span>,</span><br><span class="line">                offset=<span class="number">80</span>,</span><br><span class="line">                axisline_opts=opts.AxisLineOpts(</span><br><span class="line">                    linestyle_opts=opts.LineStyleOpts(color=<span class="string">&quot;#5793f3&quot;</span>)</span><br><span class="line">                ),</span><br><span class="line">                axislabel_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;value&#125; ml&quot;</span>),</span><br><span class="line">            ),</span><br><span class="line">            title_opts=opts.TitleOpts(title=<span class="string">&quot;Grid-多 Y 轴示例&quot;</span>),</span><br><span class="line">            tooltip_opts=opts.TooltipOpts(trigger=<span class="string">&quot;axis&quot;</span>, axis_pointer_type=<span class="string">&quot;cross&quot;</span>),</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    line = (</span><br><span class="line">        Line()</span><br><span class="line">        .add_xaxis(x_data)</span><br><span class="line">        .add_yaxis(</span><br><span class="line">            <span class="string">&quot;平均温度&quot;</span>,</span><br><span class="line">            [<span class="number">2.0</span>, <span class="number">2.2</span>, <span class="number">3.3</span>, <span class="number">4.5</span>, <span class="number">6.3</span>, <span class="number">10.2</span>, <span class="number">20.3</span>, <span class="number">23.4</span>, <span class="number">23.0</span>, <span class="number">16.5</span>, <span class="number">12.0</span>, <span class="number">6.2</span>],</span><br><span class="line">            yaxis_index=<span class="number">2</span>,</span><br><span class="line">            color=<span class="string">&quot;#675bba&quot;</span>,</span><br><span class="line">            label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>),</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    bar.overlap(line)</span><br><span class="line">    <span class="keyword">return</span> Grid().add(</span><br><span class="line">        bar, opts.GridOpts(pos_left=<span class="string">&quot;5%&quot;</span>, pos_right=<span class="string">&quot;20%&quot;</span>), is_control_axis_index=<span class="literal">True</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">liquid_data_precision</span>() -&gt; Liquid:</span></span><br><span class="line">    c = (</span><br><span class="line">        Liquid()</span><br><span class="line">        .add(</span><br><span class="line">            <span class="string">&quot;lq&quot;</span>,</span><br><span class="line">            [<span class="number">0.3254</span>],</span><br><span class="line">            label_opts=opts.LabelOpts(</span><br><span class="line">                font_size=<span class="number">50</span>,</span><br><span class="line">                formatter=JsCode(</span><br><span class="line">                    <span class="string">&quot;&quot;&quot;function (param) &#123;</span></span><br><span class="line"><span class="string">                        return (Math.floor(param.value * 10000) / 100) + &#x27;%&#x27;;</span></span><br><span class="line"><span class="string">                    &#125;&quot;&quot;&quot;</span></span><br><span class="line">                ),</span><br><span class="line">                position=<span class="string">&quot;inside&quot;</span>,</span><br><span class="line">            ),</span><br><span class="line">        )</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Liquid-数据精度&quot;</span>))</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">table_base</span>() -&gt; Table:</span></span><br><span class="line">    table = Table()</span><br><span class="line"></span><br><span class="line">    headers = [<span class="string">&quot;City name&quot;</span>, <span class="string">&quot;Area&quot;</span>, <span class="string">&quot;Population&quot;</span>, <span class="string">&quot;Annual Rainfall&quot;</span>]</span><br><span class="line">    rows = [</span><br><span class="line">        [<span class="string">&quot;Brisbane&quot;</span>, <span class="number">5905</span>, <span class="number">1857594</span>, <span class="number">1146.4</span>],</span><br><span class="line">        [<span class="string">&quot;Adelaide&quot;</span>, <span class="number">1295</span>, <span class="number">1158259</span>, <span class="number">600.5</span>],</span><br><span class="line">        [<span class="string">&quot;Darwin&quot;</span>, <span class="number">112</span>, <span class="number">120900</span>, <span class="number">1714.7</span>],</span><br><span class="line">        [<span class="string">&quot;Hobart&quot;</span>, <span class="number">1357</span>, <span class="number">205556</span>, <span class="number">619.5</span>],</span><br><span class="line">        [<span class="string">&quot;Sydney&quot;</span>, <span class="number">2058</span>, <span class="number">4336374</span>, <span class="number">1214.8</span>],</span><br><span class="line">        [<span class="string">&quot;Melbourne&quot;</span>, <span class="number">1566</span>, <span class="number">3806092</span>, <span class="number">646.9</span>],</span><br><span class="line">        [<span class="string">&quot;Perth&quot;</span>, <span class="number">5386</span>, <span class="number">1554769</span>, <span class="number">869.4</span>],</span><br><span class="line">    ]</span><br><span class="line">    table.add(headers, rows).set_global_opts(</span><br><span class="line">        title_opts=opts.ComponentTitleOpts(title=<span class="string">&quot;Table&quot;</span>)</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> table</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">page_simple_layout</span>() -&gt; Page:</span></span><br><span class="line">    page = Page(layout=Page.SimplePageLayout)</span><br><span class="line">    page.add(</span><br><span class="line">        bar_datazoom_slider(),</span><br><span class="line">        line_markpoint(),</span><br><span class="line">        pie_rosetype(),</span><br><span class="line">        grid_mutil_yaxis(),</span><br><span class="line">        liquid_data_precision(),</span><br><span class="line">        table_base(),</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> page</span><br><span class="line">   </span><br><span class="line">page_simple_layout().render_notebook()</span><br></pre></td></tr></table></figure>

<h5 id="3-6-3-选项卡多图Tab"><a href="#3-6-3-选项卡多图Tab" class="headerlink" title="3.6.3 选项卡多图Tab"></a>3.6.3 选项卡多图Tab</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tab</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># HTML 标题</span></span></span></span><br><span class="line"><span class="class"><span class="params">    page_title: str = <span class="string">&quot;Awesome-pyecharts&quot;</span>,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 远程 HOST，默认为 &quot;https://assets.pyecharts.org/assets/&quot;</span></span></span></span><br><span class="line"><span class="class"><span class="params">    js_host: str = <span class="string">&quot;&quot;</span></span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">add</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 任意图表类型</span></span></span></span><br><span class="line"><span class="class"><span class="params">    chart,</span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 标签名称</span></span></span></span><br><span class="line"><span class="class"><span class="params">    tab_name</span></span></span><br><span class="line"><span class="class"><span class="params"></span>):</span></span><br></pre></td></tr></table></figure>

<p><strong>例子:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar, Grid, Line, Pie, Tab</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar_datazoom_slider</span>() -&gt; Bar:</span></span><br><span class="line">    c = (</span><br><span class="line">        Bar()</span><br><span class="line">        .add_xaxis(Faker.days_attrs)</span><br><span class="line">        .add_yaxis(<span class="string">&quot;商家A&quot;</span>, Faker.days_values)</span><br><span class="line">        .set_global_opts(</span><br><span class="line">            title_opts=opts.TitleOpts(title=<span class="string">&quot;Bar-DataZoom（slider-水平）&quot;</span>),</span><br><span class="line">            datazoom_opts=[opts.DataZoomOpts()],</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">line_markpoint</span>() -&gt; Line:</span></span><br><span class="line">    c = (</span><br><span class="line">        Line()</span><br><span class="line">        .add_xaxis(Faker.choose())</span><br><span class="line">        .add_yaxis(</span><br><span class="line">            <span class="string">&quot;商家A&quot;</span>,</span><br><span class="line">            Faker.values(),</span><br><span class="line">            markpoint_opts=opts.MarkPointOpts(data=[opts.MarkPointItem(type_=<span class="string">&quot;min&quot;</span>)]),</span><br><span class="line">        )</span><br><span class="line">        .add_yaxis(</span><br><span class="line">            <span class="string">&quot;商家B&quot;</span>,</span><br><span class="line">            Faker.values(),</span><br><span class="line">            markpoint_opts=opts.MarkPointOpts(data=[opts.MarkPointItem(type_=<span class="string">&quot;max&quot;</span>)]),</span><br><span class="line">        )</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Line-MarkPoint&quot;</span>))</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pie_rosetype</span>() -&gt; Pie:</span></span><br><span class="line">    v = Faker.choose()</span><br><span class="line">    c = (</span><br><span class="line">        Pie()</span><br><span class="line">        .add(</span><br><span class="line">            <span class="string">&quot;&quot;</span>,</span><br><span class="line">            [list(z) <span class="keyword">for</span> z <span class="keyword">in</span> zip(v, Faker.values())],</span><br><span class="line">            radius=[<span class="string">&quot;30%&quot;</span>, <span class="string">&quot;75%&quot;</span>],</span><br><span class="line">            center=[<span class="string">&quot;25%&quot;</span>, <span class="string">&quot;50%&quot;</span>],</span><br><span class="line">            rosetype=<span class="string">&quot;radius&quot;</span>,</span><br><span class="line">            label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>),</span><br><span class="line">        )</span><br><span class="line">        .add(</span><br><span class="line">            <span class="string">&quot;&quot;</span>,</span><br><span class="line">            [list(z) <span class="keyword">for</span> z <span class="keyword">in</span> zip(v, Faker.values())],</span><br><span class="line">            radius=[<span class="string">&quot;30%&quot;</span>, <span class="string">&quot;75%&quot;</span>],</span><br><span class="line">            center=[<span class="string">&quot;75%&quot;</span>, <span class="string">&quot;50%&quot;</span>],</span><br><span class="line">            rosetype=<span class="string">&quot;area&quot;</span>,</span><br><span class="line">        )</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Pie-玫瑰图示例&quot;</span>))</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">grid_mutil_yaxis</span>() -&gt; Grid:</span></span><br><span class="line">    x_data = [<span class="string">&quot;&#123;&#125;月&quot;</span>.format(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">13</span>)]</span><br><span class="line">    bar = (</span><br><span class="line">        Bar()</span><br><span class="line">        .add_xaxis(x_data)</span><br><span class="line">        .add_yaxis(</span><br><span class="line">            <span class="string">&quot;蒸发量&quot;</span>,</span><br><span class="line">            [<span class="number">2.0</span>, <span class="number">4.9</span>, <span class="number">7.0</span>, <span class="number">23.2</span>, <span class="number">25.6</span>, <span class="number">76.7</span>, <span class="number">135.6</span>, <span class="number">162.2</span>, <span class="number">32.6</span>, <span class="number">20.0</span>, <span class="number">6.4</span>, <span class="number">3.3</span>],</span><br><span class="line">            yaxis_index=<span class="number">0</span>,</span><br><span class="line">            color=<span class="string">&quot;#d14a61&quot;</span>,</span><br><span class="line">        )</span><br><span class="line">        .add_yaxis(</span><br><span class="line">            <span class="string">&quot;降水量&quot;</span>,</span><br><span class="line">            [<span class="number">2.6</span>, <span class="number">5.9</span>, <span class="number">9.0</span>, <span class="number">26.4</span>, <span class="number">28.7</span>, <span class="number">70.7</span>, <span class="number">175.6</span>, <span class="number">182.2</span>, <span class="number">48.7</span>, <span class="number">18.8</span>, <span class="number">6.0</span>, <span class="number">2.3</span>],</span><br><span class="line">            yaxis_index=<span class="number">1</span>,</span><br><span class="line">            color=<span class="string">&quot;#5793f3&quot;</span>,</span><br><span class="line">        )</span><br><span class="line">        .extend_axis(</span><br><span class="line">            yaxis=opts.AxisOpts(</span><br><span class="line">                name=<span class="string">&quot;蒸发量&quot;</span>,</span><br><span class="line">                type_=<span class="string">&quot;value&quot;</span>,</span><br><span class="line">                min_=<span class="number">0</span>,</span><br><span class="line">                max_=<span class="number">250</span>,</span><br><span class="line">                position=<span class="string">&quot;right&quot;</span>,</span><br><span class="line">                axisline_opts=opts.AxisLineOpts(</span><br><span class="line">                    linestyle_opts=opts.LineStyleOpts(color=<span class="string">&quot;#d14a61&quot;</span>)</span><br><span class="line">                ),</span><br><span class="line">                axislabel_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;value&#125; ml&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        .extend_axis(</span><br><span class="line">            yaxis=opts.AxisOpts(</span><br><span class="line">                type_=<span class="string">&quot;value&quot;</span>,</span><br><span class="line">                name=<span class="string">&quot;温度&quot;</span>,</span><br><span class="line">                min_=<span class="number">0</span>,</span><br><span class="line">                max_=<span class="number">25</span>,</span><br><span class="line">                position=<span class="string">&quot;left&quot;</span>,</span><br><span class="line">                axisline_opts=opts.AxisLineOpts(</span><br><span class="line">                    linestyle_opts=opts.LineStyleOpts(color=<span class="string">&quot;#675bba&quot;</span>)</span><br><span class="line">                ),</span><br><span class="line">                axislabel_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;value&#125; °C&quot;</span>),</span><br><span class="line">                splitline_opts=opts.SplitLineOpts(</span><br><span class="line">                    is_show=<span class="literal">True</span>, linestyle_opts=opts.LineStyleOpts(opacity=<span class="number">1</span>)</span><br><span class="line">                ),</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        .set_global_opts(</span><br><span class="line">            yaxis_opts=opts.AxisOpts(</span><br><span class="line">                name=<span class="string">&quot;降水量&quot;</span>,</span><br><span class="line">                min_=<span class="number">0</span>,</span><br><span class="line">                max_=<span class="number">250</span>,</span><br><span class="line">                position=<span class="string">&quot;right&quot;</span>,</span><br><span class="line">                offset=<span class="number">80</span>,</span><br><span class="line">                axisline_opts=opts.AxisLineOpts(</span><br><span class="line">                    linestyle_opts=opts.LineStyleOpts(color=<span class="string">&quot;#5793f3&quot;</span>)</span><br><span class="line">                ),</span><br><span class="line">                axislabel_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;value&#125; ml&quot;</span>),</span><br><span class="line">            ),</span><br><span class="line">            title_opts=opts.TitleOpts(title=<span class="string">&quot;Grid-多 Y 轴示例&quot;</span>),</span><br><span class="line">            tooltip_opts=opts.TooltipOpts(trigger=<span class="string">&quot;axis&quot;</span>, axis_pointer_type=<span class="string">&quot;cross&quot;</span>),</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    line = (</span><br><span class="line">        Line()</span><br><span class="line">        .add_xaxis(x_data)</span><br><span class="line">        .add_yaxis(</span><br><span class="line">            <span class="string">&quot;平均温度&quot;</span>,</span><br><span class="line">            [<span class="number">2.0</span>, <span class="number">2.2</span>, <span class="number">3.3</span>, <span class="number">4.5</span>, <span class="number">6.3</span>, <span class="number">10.2</span>, <span class="number">20.3</span>, <span class="number">23.4</span>, <span class="number">23.0</span>, <span class="number">16.5</span>, <span class="number">12.0</span>, <span class="number">6.2</span>],</span><br><span class="line">            yaxis_index=<span class="number">2</span>,</span><br><span class="line">            color=<span class="string">&quot;#675bba&quot;</span>,</span><br><span class="line">            label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>),</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    bar.overlap(line)</span><br><span class="line">    <span class="keyword">return</span> Grid().add(</span><br><span class="line">        bar, opts.GridOpts(pos_left=<span class="string">&quot;5%&quot;</span>, pos_right=<span class="string">&quot;20%&quot;</span>), is_control_axis_index=<span class="literal">True</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tab = Tab()</span><br><span class="line">tab.add(bar_datazoom_slider(), <span class="string">&quot;bar-example&quot;</span>)</span><br><span class="line">tab.add(line_markpoint(), <span class="string">&quot;line-example&quot;</span>)</span><br><span class="line">tab.add(pie_rosetype(), <span class="string">&quot;pie-example&quot;</span>)</span><br><span class="line">tab.add(grid_mutil_yaxis(), <span class="string">&quot;grid-example&quot;</span>)</span><br><span class="line">tab.render_notebook()</span><br></pre></td></tr></table></figure>

<h5 id="3-6-4-时间线轮播多图Timeline"><a href="#3-6-4-时间线轮播多图Timeline" class="headerlink" title="3.6.4 时间线轮播多图Timeline"></a>3.6.4 时间线轮播多图Timeline</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Timeline</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 初始化配置项，参考 `global_options.InitOpts`</span></span></span></span><br><span class="line"><span class="class"><span class="params">    init_opts: opts.InitOpts = opts.InitOpts(<span class="params"></span>)</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">add</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 图表实例</span></span></span></span><br><span class="line"><span class="class"><span class="params">    chart: Base, </span></span></span><br><span class="line"><span class="class"><span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    <span class="comment"># 时间点</span></span></span></span><br><span class="line"><span class="class"><span class="params">    time_point: str</span></span></span><br><span class="line"><span class="class"><span class="params"></span>)</span></span><br><span class="line"><span class="class">### 样式调整  个人感觉默认的就够用了 个人没有调节更细的参数 如有需要请参考官网</span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">add_schema</span>(<span class="params">....</span>)</span></span><br><span class="line"><span class="class">### 时间轴 <span class="title">checkpoint</span> 样式配置</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">TimelineCheckPointerStyle</span>(<span class="params">....</span>)</span></span><br><span class="line"><span class="class">### 时间轴控制按钮样式</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">TimelineControlStyle</span>(<span class="params">....</span>)</span></span><br></pre></td></tr></table></figure>

<p><strong>例子:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar, Timeline</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"></span><br><span class="line">tl = Timeline()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2015</span>, <span class="number">2020</span>):</span><br><span class="line">    bar = (</span><br><span class="line">        Bar()</span><br><span class="line">        .add_xaxis(Faker.choose())</span><br><span class="line">        .add_yaxis(<span class="string">&quot;商家A&quot;</span>, Faker.values(), label_opts=opts.LabelOpts(position=<span class="string">&quot;right&quot;</span>))</span><br><span class="line">        .add_yaxis(<span class="string">&quot;商家B&quot;</span>, Faker.values(), label_opts=opts.LabelOpts(position=<span class="string">&quot;right&quot;</span>))</span><br><span class="line">        .reversal_axis()</span><br><span class="line">        .set_global_opts(</span><br><span class="line">            title_opts=opts.TitleOpts(<span class="string">&quot;Timeline-Bar-Reversal (时间: &#123;&#125; 年)&quot;</span>.format(i))</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    tl.add(bar, <span class="string">&quot;&#123;&#125;年&quot;</span>.format(i))</span><br><span class="line">tl.render_notebook()</span><br></pre></td></tr></table></figure>

<h4 id="补充-用table画cohort图"><a href="#补充-用table画cohort图" class="headerlink" title="补充 用table画cohort图"></a>补充 用table画cohort图</h4><p><strong>调整留存图的视觉效果,需要自行调节css样式,本人不擅于前段,只是粗调,有兴趣的可以自行研究</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> CurrentConfig,NotebookType</span><br><span class="line">CurrentConfig.NOTEBOOK_TYPE = NotebookType.JUPYTER_NOTEBOOK   <span class="comment">#ZEPPELIN 看html源文件</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.components <span class="keyword">import</span> Table</span><br><span class="line"><span class="keyword">from</span> pyecharts.options <span class="keyword">import</span> ComponentTitleOpts</span><br><span class="line"></span><br><span class="line">table = Table()</span><br><span class="line">headers = [<span class="string">&quot;week&quot;</span>, <span class="string">&quot;actuv&quot;</span>,<span class="string">&quot;visit1w&quot;</span>, <span class="string">&quot;visit2w&quot;</span>, <span class="string">&quot;visit3w&quot;</span>,<span class="string">&quot;visit4w&quot;</span>, <span class="string">&quot;visit5w&quot;</span>, <span class="string">&quot;visit6w&quot;</span>, <span class="string">&quot;visit7w&quot;</span>]</span><br><span class="line">rows = [</span><br><span class="line">    [<span class="string">&quot;2021-11-01&quot;</span>, <span class="number">5905</span>, <span class="string">&quot;56%&quot;</span>, <span class="string">&quot;34%&quot;</span>,<span class="string">&quot;30%&quot;</span>,<span class="string">&quot;25%&quot;</span>,<span class="string">&quot;24%&quot;</span>,<span class="string">&quot;24%&quot;</span>,<span class="string">&quot;23%&quot;</span>],</span><br><span class="line">    [<span class="string">&quot;2021-11-08&quot;</span>, <span class="number">4800</span>, <span class="string">&quot;56%&quot;</span>, <span class="string">&quot;34%&quot;</span>,<span class="string">&quot;30%&quot;</span>,<span class="string">&quot;25%&quot;</span>,<span class="string">&quot;24%&quot;</span>,<span class="string">&quot;24%&quot;</span>,<span class="string">&#x27;&#x27;</span>],</span><br><span class="line">    [<span class="string">&quot;2021-11-15&quot;</span>, <span class="number">3523</span>, <span class="string">&quot;56%&quot;</span>, <span class="string">&quot;34%&quot;</span>,<span class="string">&quot;30%&quot;</span>,<span class="string">&quot;25%&quot;</span>,<span class="string">&quot;24%&quot;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>],</span><br><span class="line">    [<span class="string">&quot;2021-11-22&quot;</span>, <span class="number">3935</span>, <span class="string">&quot;56%&quot;</span>, <span class="string">&quot;34%&quot;</span>,<span class="string">&quot;30%&quot;</span>,<span class="string">&quot;25%&quot;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>],</span><br><span class="line">    [<span class="string">&quot;2021-11-29&quot;</span>, <span class="number">4230</span>, <span class="string">&quot;56%&quot;</span>, <span class="string">&quot;34%&quot;</span>,<span class="string">&quot;30%&quot;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>],</span><br><span class="line">    [<span class="string">&quot;2021-12-06&quot;</span>, <span class="number">4678</span>, <span class="string">&quot;56%&quot;</span>, <span class="string">&quot;34%&quot;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>],</span><br><span class="line">    [<span class="string">&quot;2021-11-13&quot;</span>, <span class="number">5245</span>, <span class="string">&quot;45%&quot;</span>, <span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>],</span><br><span class="line">]</span><br><span class="line"><span class="comment">## 调节css 样式</span></span><br><span class="line"><span class="comment"># &quot;style&quot;:&quot;color:green;text-align:center&quot;,&quot;border&quot;:&quot;1px&quot;</span></span><br><span class="line">table.add(headers, rows,&#123;<span class="string">&quot;class&quot;</span>:<span class="string">&quot;fl-table tr&quot;</span>,<span class="string">&quot;style&quot;</span>:<span class="string">&quot;color:green;text-align:center&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">table.set_global_opts(</span><br><span class="line">    title_opts=ComponentTitleOpts(title=<span class="string">&quot;留存&quot;</span>, subtitle=<span class="string">&quot;留存测试&quot;</span>)</span><br><span class="line">)</span><br><span class="line">table.render(<span class="string">&quot;table_base.html&quot;</span>)</span><br><span class="line">table.render_notebook()</span><br></pre></td></tr></table></figure>
    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>HF
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://example.com/2021/12/19/Pyecharts/" title="Pyecharts">http://example.com/2021/12/19/Pyecharts/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag"># 数据可视化</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/11/19/Mysql%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86%E9%97%AE%E9%A2%98/" rel="prev" title="Mysql的字符集问题">
      <i class="fa fa-chevron-left"></i> Mysql的字符集问题
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/12/26/Html%E8%A7%A3%E6%9E%90-BeautifulSoup/" rel="next" title="Html解析-BeautifulSoup">
      Html解析-BeautifulSoup <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80-%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">一 简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E6%A6%82%E8%BF%B0"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-%E7%89%B9%E6%80%A7"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-%E7%89%88%E6%9C%AC"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 版本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-%E5%AE%89%E8%A3%85"><span class="nav-number">1.4.</span> <span class="nav-text">1.4  安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-%E5%9B%BE%E8%A1%A8%E5%B1%95%E7%A4%BA%E5%BD%A2%E5%BC%8F"><span class="nav-number">1.5.</span> <span class="nav-text">1.5 图表展示形式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C-%E9%85%8D%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">二 配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE"><span class="nav-number">2.0.1.</span> <span class="nav-text">2.1 全局配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-%E7%B3%BB%E5%88%97%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="nav-number">2.0.2.</span> <span class="nav-text">2.2 系列配置项</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89-%E5%9B%BE%E8%A1%A8"><span class="nav-number">2.1.</span> <span class="nav-text">三 图表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-%E7%9B%B4%E8%A7%92%E5%9D%90%E6%A0%87%E7%B3%BB%E5%9B%BE%E8%A1%A8"><span class="nav-number">2.1.1.</span> <span class="nav-text">3.1 直角坐标系图表</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-1-%E5%85%AC%E6%9C%89%E6%96%B9%E6%B3%95"><span class="nav-number">2.1.1.1.</span> <span class="nav-text">3.1.1 公有方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-2-%E6%9F%B1%E7%8A%B6%E5%9B%BE"><span class="nav-number">2.1.1.2.</span> <span class="nav-text">3.1.2 柱状图</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-3-%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="nav-number">2.1.1.3.</span> <span class="nav-text">3.1.3 折线图</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-4-%E7%AE%B1%E5%9E%8B%E5%9B%BE"><span class="nav-number">2.1.1.4.</span> <span class="nav-text">3.1.4 箱型图</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-6-%E7%83%AD%E5%8A%9B%E5%9B%BE"><span class="nav-number">2.1.1.5.</span> <span class="nav-text">3.1.6 热力图</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-7-%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="nav-number">2.1.1.6.</span> <span class="nav-text">3.1.7 散点图</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-8-%E5%B1%82%E5%8F%A0%E5%A4%9A%E5%9B%BE"><span class="nav-number">2.1.1.7.</span> <span class="nav-text">3.1.8 层叠多图</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-%E5%9F%BA%E6%9C%AC%E5%9B%BE%E8%A1%A8"><span class="nav-number">2.1.2.</span> <span class="nav-text">3.2 基本图表</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-1-%E9%A5%BC%E5%9B%BE"><span class="nav-number">2.1.2.1.</span> <span class="nav-text">3.2.1 饼图</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-2-%E6%BC%8F%E6%96%97%E5%9B%BE"><span class="nav-number">2.1.2.2.</span> <span class="nav-text">3.2.2 漏斗图</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-%E6%A0%91%E5%9B%BE"><span class="nav-number">2.1.3.</span> <span class="nav-text">3.3 树图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-3D%E5%9B%BE"><span class="nav-number">2.1.4.</span> <span class="nav-text">3.4 3D图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-5-%E5%9C%B0%E7%90%86%E5%9B%BE"><span class="nav-number">2.1.5.</span> <span class="nav-text">3.5 地理图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-6-%E7%BB%84%E5%90%88%E5%9B%BE%E8%A1%A8"><span class="nav-number">2.1.6.</span> <span class="nav-text">3.6 组合图表</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-6-1-%E5%B9%B6%E8%A1%8C%E5%A4%9A%E5%9B%BEGrid"><span class="nav-number">2.1.6.1.</span> <span class="nav-text">3.6.1 并行多图Grid</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-6-2-%E9%A1%BA%E5%BA%8F%E5%A4%9A%E5%9B%BEPage"><span class="nav-number">2.1.6.2.</span> <span class="nav-text">3.6.2 顺序多图Page</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-6-3-%E9%80%89%E9%A1%B9%E5%8D%A1%E5%A4%9A%E5%9B%BETab"><span class="nav-number">2.1.6.3.</span> <span class="nav-text">3.6.3 选项卡多图Tab</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-6-4-%E6%97%B6%E9%97%B4%E7%BA%BF%E8%BD%AE%E6%92%AD%E5%A4%9A%E5%9B%BETimeline"><span class="nav-number">2.1.6.4.</span> <span class="nav-text">3.6.4 时间线轮播多图Timeline</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A5%E5%85%85-%E7%94%A8table%E7%94%BBcohort%E5%9B%BE"><span class="nav-number">2.1.7.</span> <span class="nav-text">补充 用table画cohort图</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="HF"
      src="/images/hexo.jpg">
  <p class="site-author-name" itemprop="name">HF</p>
  <div class="site-description" itemprop="description">第二名就是头号输家</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">93</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      推荐阅读
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://www.54tianzhisheng.cn/tags/Flink/" title="http:&#x2F;&#x2F;www.54tianzhisheng.cn&#x2F;tags&#x2F;Flink&#x2F;" rel="noopener" target="_blank">Flink</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://nginxconfig.io/" title="https:&#x2F;&#x2F;nginxconfig.io&#x2F;" rel="noopener" target="_blank">Nginxconfig</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://linux.51yip.com/" title="http:&#x2F;&#x2F;linux.51yip.com&#x2F;" rel="noopener" target="_blank">Linux命令手册</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://echarts.baidu.com/index.html" title="https:&#x2F;&#x2F;echarts.baidu.com&#x2F;index.html" rel="noopener" target="_blank">echarts可视化库</a>
        </li>
    </ul>
  </div>
<div style="">
  <canvas id="canvas" style="width:60%;">当前浏览器不支持canvas，请更换浏览器后再试</canvas>
</div>
<script>
(function(){

   var digit=
    [
        [
            [0,0,1,1,1,0,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,0,1,1,0],
            [0,0,1,1,1,0,0]
        ],//0
        [
            [0,0,0,1,1,0,0],
            [0,1,1,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [1,1,1,1,1,1,1]
        ],//1
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,1,1],
            [1,1,1,1,1,1,1]
        ],//2
        [
            [1,1,1,1,1,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//3
        [
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,0],
            [0,0,1,1,1,1,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,1,1,0],
            [1,1,1,1,1,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,1]
        ],//4
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,1,1,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//5
        [
            [0,0,0,0,1,1,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//6
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0]
        ],//7
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//8
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,1,1,0,0,0,0]
        ],//9
        [
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0]
        ]//:
    ];

var canvas = document.getElementById('canvas');

if(canvas.getContext){
    var cxt = canvas.getContext('2d');
    //声明canvas的宽高
    var H = 100,W = 700;
    canvas.height = H;
    canvas.width = W;
    cxt.fillStyle = '#f00';
    cxt.fillRect(10,10,50,50);

    //存储时间数据
    var data = [];
    //存储运动的小球
    var balls = [];
    //设置粒子半径
    var R = canvas.height/20-1;
    (function(){
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        //存储时间数字，由十位小时、个位小时、冒号、十位分钟、个位分钟、冒号、十位秒钟、个位秒钟这7个数字组成
        data.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
    })();

    /*生成点阵数字*/
    function renderDigit(index,num){
        for(var i = 0; i < digit[num].length; i++){
            for(var j = 0; j < digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    cxt.beginPath();
                    cxt.arc(14*(R+2)*index + j*2*(R+1)+(R+1),i*2*(R+1)+(R+1),R,0,2*Math.PI);
                    cxt.closePath();
                    cxt.fill();
                }
            }
        }
    }

    /*更新时钟*/
    function updateDigitTime(){
        var changeNumArray = [];
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        var NewData = [];
        NewData.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
        for(var i = data.length-1; i >=0 ; i--){
            //时间发生变化
            if(NewData[i] !== data[i]){
                //将变化的数字值和在data数组中的索引存储在changeNumArray数组中
                changeNumArray.push(i+'_'+(Number(data[i])+1)%10);
            }
        }
        //增加小球
        for(var i = 0; i< changeNumArray.length; i++){
            addBalls.apply(this,changeNumArray[i].split('_'));
        }
        data = NewData.concat();
    }

    /*更新小球状态*/
    function updateBalls(){
        for(var i = 0; i < balls.length; i++){
            balls[i].stepY += balls[i].disY;
            balls[i].x += balls[i].stepX;
            balls[i].y += balls[i].stepY;
            if(balls[i].x > W + R || balls[i].y > H + R){
                balls.splice(i,1);
                i--;
            }
        }
    }

    /*增加要运动的小球*/
    function addBalls(index,num){
        var numArray = [1,2,3];
        var colorArray =  ["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"];
        for(var i = 0; i < digit[num].length; i++){
            for(var j = 0; j < digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    var ball = {
                        x:14*(R+2)*index + j*2*(R+1)+(R+1),
                        y:i*2*(R+1)+(R+1),
                        stepX:Math.floor(Math.random() * 4 -2),
                        stepY:-2*numArray[Math.floor(Math.random()*numArray.length)],
                        color:colorArray[Math.floor(Math.random()*colorArray.length)],
                        disY:1
                    };
                    balls.push(ball);
                }
            }
        }
    }

    /*渲染*/
    function render(){
        //重置画布宽度，达到清空画布的效果
        canvas.height = 100;
        //渲染时钟
        for(var i = 0; i < data.length; i++){
            renderDigit(i,data[i]);
        }
        //渲染小球
        for(var i = 0; i < balls.length; i++){
            cxt.beginPath();
            cxt.arc(balls[i].x,balls[i].y,R,0,2*Math.PI);
            cxt.fillStyle = balls[i].color;
            cxt.closePath();
            cxt.fill();
        }
    }

    clearInterval(oTimer);
    var oTimer = setInterval(function(){
        //更新时钟
        updateDigitTime();
        //更新小球状态
        updateBalls();
        //渲染
        render();
    },50);
}

})();
</script>
      </div>

    
          <script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
         <script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
           <div class="widget-wrap">
        <h3 class="widget-title">Tag Cloud</h3>
        <div id="myCanvasContainer" class="widget tagcloud">
            <canvas width="250" height="250" id="resCanvas" style="width=100%">
                <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ClickHouse/" rel="tag">ClickHouse</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ElSearch/" rel="tag">ElSearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flink/" rel="tag">Flink</a><span class="tag-list-count">17</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flume/" rel="tag">Flume</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hadoop/" rel="tag">Hadoop</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hbase/" rel="tag">Hbase</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hive/" rel="tag">Hive</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Impala/" rel="tag">Impala</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kafka/" rel="tag">Kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Livy/" rel="tag">Livy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/" rel="tag">Mysql</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oozie/" rel="tag">Oozie</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scala/" rel="tag">Scala</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/" rel="tag">Shell</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spark/" rel="tag">Spark</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sqoop/" rel="tag">Sqoop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZK/" rel="tag">ZK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%86%E5%8F%B2/" rel="tag">历史</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E4%BB%93/" rel="tag">数仓</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" rel="tag">数据分析</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">数据可视化</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" rel="tag">数据结构与算法</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%9F%E8%AE%A1/" rel="tag">统计</a><span class="tag-list-count">1</span></li></ul>
            </canvas>
        </div>
    </div>
    

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright" style=" text-align:center;">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">HF</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">1.5m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">22:52</span>
</div>

  <!-- 网站运行时间的设置 -->
<div class="run_time" style=" text-align:center;">
  <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
  <script>
    var now = new Date(); 
    function createtime() { 
        var grt= new Date("07/23/2017 10:00:00");//此处修改你的建站时间或者网站上线时间 
        now.setTime(now.getTime()+250); 
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "; 
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
    } 
    setInterval("createtime()",250);
  </script>
</div>
        
<div class="busuanzi-count" style=" text-align:center;">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      我的第 <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> 位朋友，
    </span>
  



  
    <span class="site-pv">
      历经 <span class="busuanzi-value" id="busuanzi_value_site_pv"></span> 次回眸才与你相遇
    </span>
  
</div>










      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  
<div class="moon-menu">
  <div class="moon-menu-items">
    
    <div class="moon-menu-item" onclick="back2bottom()">
      <i class='fas fa-chevron-down'></i>    </div>
    
    <div class="moon-menu-item" onclick="back2top()">
      <i class='fas fa-chevron-up'></i>    </div>
    
  </div>
  <div class="moon-menu-button">
    <svg class="moon-menu-bg">
      <circle class="moon-menu-cricle" cx="50%" cy="50%" r="44%"></circle>
      <circle class="moon-menu-border" cx="50%" cy="50%" r="48%"></circle>
    </svg>
    <div class="moon-menu-content">
      <div class="moon-menu-icon"><i class='fas fa-ellipsis-v'></i></div>
      <div class="moon-menu-text"></div>
    </div>
  </div>
</div><script src="/js/injector.js"></script>
</body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/clicklove.js"></script>
<!-- 雪花特效 -->
<script type="text/javascript" src="/js/jquery.js"></script>
<script type="text/javascript" src="/js/jquery.min.js"></script>
<script type="text/javascript" src="/js/snow.js"></script>